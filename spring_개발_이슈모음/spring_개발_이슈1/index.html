<!DOCTYPE html>
<html>
  <head>
    <title>양봉수 블로그</title>
    
      <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
<meta name="revised" content="2019-01-22T18:50:12 KST">
<title>Spring Issue1 :: 양봉수 블로그</title>
<link rel="shortcut icon" href="/images/favicon.png" type="image/x-icon" />
<link href="/css/font-awesome.min.css" rel="stylesheet">
<link href="/css/nucleus.css" rel="stylesheet">
<link href="/theme-flex/style.css" rel="stylesheet">

<link rel="stylesheet" href="/css/bootstrap.min.css">
<script src="/js/jquery-2.x.min.js"></script>
<script type="text/javascript">
      var baseurl = "\/";
</script>
<meta name="description" content="">



    
  </head>
  <body data-url="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B21/">
    
      <header>
  <div class="logo">
    
	
  
    <a class="baselink" href="/">양봉수 블로그</a>
  


  </div>
  <div class="burger"><a href="javascript:void(0);" style="font-size:15px;">&#9776;</a></div>
    <nav class="shortcuts">
            <li class="" role="">
                <a href="https://github.com/yangbongsoo"  rel="noopener">
                  <i class='fa fa-github'></i> <label>Github repo</label>
                </a>
            </li>
    </nav>
</header>
<article>
  <aside>
    <ul class="menu">
          <li data-nav-id="/" class="dd-item">
          <a href="/">
            <i class="fa fa-fw fa-home"></i>
          </a>
          </li>
    <li data-nav-id="/connection_reset/" class="dd-item
        ">
      <div>
      <a href="/connection_reset/">Connection Reset</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/tshark/" class="dd-item
        ">
      <div>
      <a href="/tshark/"><i class='fa fa-linux' ></i> 티샤크를 활용한 네트워크 트래픽 분석</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/shellscript/" class="dd-item
        ">
      <div>
      <a href="/shellscript/"><i class='fa fa-linux' ></i> 자주쓰는 쉘 스크립트 모음</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/java8_in_action/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/java8_in_action/"><i class='fa fa-coffee' ></i> Java 8 in Action</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/java8_in_action/part1/" class="dd-item">
        <div>
          <a href="/java8_in_action/part1/">
            Part1 기초
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java8_in_action/part2-1_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/" class="dd-item">
        <div>
          <a href="/java8_in_action/part2-1_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/">
            Part2-1 함수형 데이터 처리
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java8_in_action/part2-2_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/" class="dd-item">
        <div>
          <a href="/java8_in_action/part2-2_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/">
            Part2-2 함수형 데이터 처리
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/java8_in_action/part3-1_%E1%84%92%E1%85%AD%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A18_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/" class="dd-item">
        <div>
          <a href="/java8_in_action/part3-1_%E1%84%92%E1%85%AD%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A18_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/">
            Part3-1 효과적인 자바8 프로그래밍
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/"><i class='fa fa-coffee' ></i> 자바 성능 튜닝 이야기</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%82%E1%85%A2%E1%84%80%E1%85%A1_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A9%E1%86%A8%E1%84%83%E1%85%A9%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%80%E1%85%A9_%E1%84%89%E1%85%B5%E1%87%81%E1%84%83%E1%85%A1/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%82%E1%85%A2%E1%84%80%E1%85%A1_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A9%E1%86%A8%E1%84%83%E1%85%A9%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%80%E1%85%A9_%E1%84%89%E1%85%B5%E1%87%81%E1%84%83%E1%85%A1/">
            내가 만든 프로그램의 속도를 알고 싶다
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%AB_%E1%84%8C%E1%85%A1%E1%84%81%E1%85%AE_string%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8A%E1%85%B3%E1%84%8C%E1%85%B5_%E1%84%86%E1%85%A1%E1%86%AF%E1%84%85%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%80%E1%85%A5%E1%84%8B%E1%85%A3/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%AB_%E1%84%8C%E1%85%A1%E1%84%81%E1%85%AE_string%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8A%E1%85%B3%E1%84%8C%E1%85%B5_%E1%84%86%E1%85%A1%E1%86%AF%E1%84%85%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%80%E1%85%A5%E1%84%8B%E1%85%A3/">
            왜 자꾸 String을 쓰지 말라는거야
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%A5%E1%84%83%E1%85%B5%E1%84%8B%E1%85%A6_%E1%84%83%E1%85%A1%E1%86%B7%E1%84%8B%E1%85%A1%E1%84%8B%E1%85%A3_%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%8C%E1%85%B5/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%A5%E1%84%83%E1%85%B5%E1%84%8B%E1%85%A6_%E1%84%83%E1%85%A1%E1%86%B7%E1%84%8B%E1%85%A1%E1%84%8B%E1%85%A3_%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%8C%E1%85%B5/">
            어디에 담아야 하는지
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8C%E1%85%B5%E1%84%80%E1%85%B3%E1%86%B7%E1%84%81%E1%85%A1%E1%84%8C%E1%85%B5_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%83%E1%85%A5%E1%86%AB_for_%E1%84%85%E1%85%AE%E1%84%91%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%83%E1%85%A5_%E1%84%88%E1%85%A1%E1%84%85%E1%85%B3%E1%84%80%E1%85%A6_%E1%84%92%E1%85%A1%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%83%E1%85%A1%E1%84%80%E1%85%A9/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8C%E1%85%B5%E1%84%80%E1%85%B3%E1%86%B7%E1%84%81%E1%85%A1%E1%84%8C%E1%85%B5_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%83%E1%85%A5%E1%86%AB_for_%E1%84%85%E1%85%AE%E1%84%91%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%83%E1%85%A5_%E1%84%88%E1%85%A1%E1%84%85%E1%85%B3%E1%84%80%E1%85%A6_%E1%84%92%E1%85%A1%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%83%E1%85%A1%E1%84%80%E1%85%A9/">
            지금까지 사용하던 for루프를 더 빠르게 할 수 있다고?
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/static_%E1%84%8C%E1%85%A6%E1%84%83%E1%85%A2%E1%84%85%E1%85%A9_%E1%84%92%E1%85%A1%E1%86%AB%E1%84%87%E1%85%A5%E1%86%AB_%E1%84%8A%E1%85%A5_%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A1/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/static_%E1%84%8C%E1%85%A6%E1%84%83%E1%85%A2%E1%84%85%E1%85%A9_%E1%84%92%E1%85%A1%E1%86%AB%E1%84%87%E1%85%A5%E1%86%AB_%E1%84%8A%E1%85%A5_%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A1/">
            static 제대로 한번 써 보자
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%87%E1%85%A9_%E1%84%8B%E1%85%A5%E1%84%84%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%82%E1%85%A2%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%82%E1%85%A1/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%87%E1%85%A9_%E1%84%8B%E1%85%A5%E1%84%84%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%82%E1%85%A2%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%82%E1%85%A1/">
            클래스 정보, 어떻게 알아낼 수 있나?
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%87%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%84%89%E1%85%B5_%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%86%E1%85%A1%E1%86%AB_%E1%84%8D%E1%85%B5%E1%86%A8%E1%84%8C%E1%85%A1/" class="dd-item">
        <div>
          <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%87%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%84%89%E1%85%B5_%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%86%E1%85%A1%E1%86%AB_%E1%84%8D%E1%85%B5%E1%86%A8%E1%84%8C%E1%85%A1/">
            로그는 반드시 필요한 내용만 찍자
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/" class="dd-item parent alwaysopen haschildren
        ">
      <div>
      <a href="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/"><i class='fa fa-envira' ></i> Spring 개발 이슈모음</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B21/" class="dd-item active">
        <div>
          <a href="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B21/">
            Spring Issue1
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B22/" class="dd-item">
        <div>
          <a href="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B22/">
            Spring Issue2
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/toby_spring/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/toby_spring/"><i class='fa fa-envira' ></i> 토비 스프링</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/toby_spring/%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%8B%E1%85%B4_ioc_di%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7_bean_%E1%84%85%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%91%E1%85%B3%E1%84%89%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%B3%E1%86%AF/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%8B%E1%85%B4_ioc_di%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7_bean_%E1%84%85%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%91%E1%85%B3%E1%84%89%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%B3%E1%86%AF/">
            정의, IoC DI개념, Bean 라이프사이클
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B4%E1%84%8C%E1%85%A9%E1%86%AB%E1%84%80%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A8/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B4%E1%84%8C%E1%85%A9%E1%86%AB%E1%84%80%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A8/">
            오브젝트와 의존관계
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3/">
            테스트
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%90%E1%85%A6%E1%86%B7%E1%84%91%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%90%E1%85%A6%E1%86%B7%E1%84%91%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA/">
            템플릿
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%90%E1%85%A9%E1%84%87%E1%85%B5%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%90%E1%85%A9%E1%84%87%E1%85%B5%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/">
            예외
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3_%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3_%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA/">
            서비스 추상화
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/aop/" class="dd-item">
        <div>
          <a href="/toby_spring/aop/">
            AOP
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%92%E1%85%A2%E1%86%A8%E1%84%89%E1%85%B5%E1%86%B7_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B3%E1%86%BC%E1%84%8B%E1%85%AD%E1%86%BC/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%92%E1%85%A2%E1%86%A8%E1%84%89%E1%85%B5%E1%86%B7_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B3%E1%86%BC%E1%84%8B%E1%85%AD%E1%86%BC/">
            스프링 핵심 기술의 응용
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/" class="dd-item">
        <div>
          <a href="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/">
            스프링 프로젝트 시작하기
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/toby_spring/ioc_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA_di/" class="dd-item">
        <div>
          <a href="/toby_spring/ioc_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA_di/">
            IoC 컨테이너와 DI
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/effective_java/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/effective_java/"><i class='fa fa-coffee' ></i> Effective Java(3rd edition 작업중)</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/effective_java/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%89%E1%85%A1%E1%86%A8%E1%84%8C%E1%85%A6/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%89%E1%85%A1%E1%86%A8%E1%84%8C%E1%85%A6/">
            객체의 생성과 삭제
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%80%E1%85%A9%E1%86%BC%E1%84%90%E1%85%A9%E1%86%BC_%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%80%E1%85%A9%E1%86%BC%E1%84%90%E1%85%A9%E1%86%BC_%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/">
            모든 객체의 공통 메서드
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%90%E1%85%A5%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%90%E1%85%A5%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3/">
            클래스와 인터페이스
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%8C%E1%85%A6%E1%84%82%E1%85%A6%E1%84%85%E1%85%B5%E1%86%A8/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%8C%E1%85%A6%E1%84%82%E1%85%A6%E1%84%85%E1%85%B5%E1%86%A8/">
            제네릭
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/enum%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/" class="dd-item">
        <div>
          <a href="/effective_java/enum%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/">
            enum과 어노테이션
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7/">
            람다와 스트림
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/">
            메서드
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%87%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8%E1%84%83%E1%85%B3%E1%86%AF/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%87%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8%E1%84%83%E1%85%B3%E1%86%AF/">
            일반적인 프로그래밍 원칙들
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/">
            예외
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%87%E1%85%A7%E1%86%BC%E1%84%92%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%87%E1%85%A7%E1%86%BC%E1%84%92%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC/">
            병행성
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/effective_java/%E1%84%8C%E1%85%B5%E1%86%A8%E1%84%85%E1%85%A7%E1%86%AF%E1%84%92%E1%85%AA/" class="dd-item">
        <div>
          <a href="/effective_java/%E1%84%8C%E1%85%B5%E1%86%A8%E1%84%85%E1%85%A7%E1%86%AF%E1%84%92%E1%85%AA/">
            직렬화
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/finalizer-attack/" class="dd-item
        ">
      <div>
      <a href="/finalizer-attack/"><i class='fa fa-coffee' ></i> Finalizer attack</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/gitflow/" class="dd-item
        ">
      <div>
      <a href="/gitflow/">Git Flow</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/junit&#43;mockito_vs_groovy&#43;spock/" class="dd-item
        ">
      <div>
      <a href="/junit&#43;mockito_vs_groovy&#43;spock/">JUnit&#43;Mockito vs Groovy&#43;Spock</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/singleton/" class="dd-item
        ">
      <div>
      <a href="/singleton/">Singleton</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/understanding_the_tomcat_classpath/" class="dd-item
        ">
      <div>
      <a href="/understanding_the_tomcat_classpath/"><i class='fa fa-coffee' ></i> Understanding The Tomcat Classpath</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/apache-and-tomcat/" class="dd-item
        ">
      <div>
      <a href="/apache-and-tomcat/">apache and tomcat</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/identity/" class="dd-item
        ">
      <div>
      <a href="/identity/">identity</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/nginx_gzip_option/" class="dd-item
        ">
      <div>
      <a href="/nginx_gzip_option/">nginx gzip 옵션</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/specification_by_example/" class="dd-item
        ">
      <div>
      <a href="/specification_by_example/">specification by example</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/what__why__how_living_documentation/" class="dd-item
        ">
      <div>
      <a href="/what__why__how_living_documentation/">what why how living_documentation</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB/"><i class='fa fa-coffee' ></i> 객체지향과 디자인패턴</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A1%E1%84%89%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%A2/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A1%E1%84%89%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%A2/">객체지향의 사실과 오해</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%91%E1%85%A7%E1%86%AB/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%91%E1%85%A7%E1%86%AB/"><i class='fa fa-coffee' ></i> 네이버를 만든 기술 자바편</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/" class="dd-item alwaysopen haschildren
        ">
      <div>
      <a href="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/">대용량 아키텍처와 성능 튜닝</a>
            <i class="fa fa-angle-down fa-lg category-icon"></i><i class="fa fa-circle-thin read-icon"></i>
      </div>
        <ul>
      <li data-nav-id="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/soa/" class="dd-item">
        <div>
          <a href="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/soa/">
            레퍼런스 아키텍처
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/msa/" class="dd-item">
        <div>
          <a href="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/msa/">
            마이크로 서비스 아키텍처
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
      <li data-nav-id="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/rest/" class="dd-item">
        <div>
          <a href="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/rest/">
            REST의 이해와 설계
          </a><i class="fa fa-circle-thin read-icon"></i>
        </div>
    </li>
        </ul>
    </li>
    <li data-nav-id="/%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A1%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%91%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%86%AB%E1%84%89%E1%85%B3_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A1%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%91%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%86%AB%E1%84%89%E1%85%B3_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF/">마이바티스를 사용한 자바 퍼시스턴스 개발</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%89%E1%85%A9%E1%84%91%E1%85%B3%E1%84%90%E1%85%B3%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%A5_%E1%84%91%E1%85%AE%E1%86%B7%E1%84%8C%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5_nhn%E1%84%8B%E1%85%B3%E1%86%AB_%E1%84%8B%E1%85%B5%E1%84%85%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6%E1%84%92%E1%85%A1%E1%86%AB%E1%84%83%E1%85%A1/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%89%E1%85%A9%E1%84%91%E1%85%B3%E1%84%90%E1%85%B3%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%A5_%E1%84%91%E1%85%AE%E1%86%B7%E1%84%8C%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5_nhn%E1%84%8B%E1%85%B3%E1%86%AB_%E1%84%8B%E1%85%B5%E1%84%85%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6%E1%84%92%E1%85%A1%E1%86%AB%E1%84%83%E1%85%A1/">소프트웨어 품질관리(NHN은 이렇게한다)</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%89%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%B4%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5_%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%89%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%B4%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5_%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/">실용주의프로그래머 익스트림프로그래밍</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%8B%E1%85%A2%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%AE%E1%84%80%E1%85%B5/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%8B%E1%85%A2%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%AE%E1%84%80%E1%85%B5/">애자일적용후기</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%8B%E1%85%B0%E1%86%B8%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A2%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%8B%E1%85%B0%E1%86%B8%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A2%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF/">웹을 지탱하는 기술</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%8B%E1%85%B0%E1%86%B8_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%8B%E1%85%B0%E1%86%B8_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2/"><i class='fa fa-coffee' ></i> 웹프로그래머를 위한 서블릿 컨테이너의 이해</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%8B%E1%85%B4_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%89%E1%85%A5%E1%86%A8/" class="dd-item
        ">
      <div>
      <a href="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%8B%E1%85%B4_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%89%E1%85%A5%E1%86%A8/"><i class='fa fa-coffee' ></i> 자바의 정석</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>
    <li data-nav-id="/clean_coders/" class="dd-item
        ">
      <div>
      <a href="/clean_coders/"><i class='fa fa-coffee' ></i> 클린코더스 강의 정리</a><i class="fa fa-circle-thin read-icon"></i>
      </div>
    </li>




    </ul>
    <section>
    </section>
  </aside>
  <section class="page">
    
    <div class="nav-select">
      <center>Navigation : 
        <select onchange="javascript:location.href = this.value;">
          
    <option value="/connection_reset/" >
   Connection Reset</option>
    <option value="/tshark/" >
   티샤크를 활용한 네트워크 트래픽 분석</option>
    <option value="/shellscript/" >
   자주쓰는 쉘 스크립트 모음</option>
    <option value="/java8_in_action/" >
   Java 8 in Action</option> 
      <option value="/java8_in_action/part1/" >- Part1 기초</option>
      <option value="/java8_in_action/part2-1_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/" >- Part2-1 함수형 데이터 처리</option>
      <option value="/java8_in_action/part2-2_%E1%84%92%E1%85%A1%E1%86%B7%E1%84%89%E1%85%AE%E1%84%92%E1%85%A7%E1%86%BC_%E1%84%83%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%90%E1%85%A5_%E1%84%8E%E1%85%A5%E1%84%85%E1%85%B5/" >- Part2-2 함수형 데이터 처리</option>
      <option value="/java8_in_action/part3-1_%E1%84%92%E1%85%AD%E1%84%80%E1%85%AA%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A18_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/" >- Part3-1 효과적인 자바8 프로그래밍</option>
  
    <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/" >
   자바 성능 튜닝 이야기</option> 
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%82%E1%85%A2%E1%84%80%E1%85%A1_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%86%B7%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A9%E1%86%A8%E1%84%83%E1%85%A9%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%80%E1%85%A9_%E1%84%89%E1%85%B5%E1%87%81%E1%84%83%E1%85%A1/" >- 내가 만든 프로그램의 속도를 알고 싶다</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%AB_%E1%84%8C%E1%85%A1%E1%84%81%E1%85%AE_string%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8A%E1%85%B3%E1%84%8C%E1%85%B5_%E1%84%86%E1%85%A1%E1%86%AF%E1%84%85%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%80%E1%85%A5%E1%84%8B%E1%85%A3/" >- 왜 자꾸 String을 쓰지 말라는거야</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8B%E1%85%A5%E1%84%83%E1%85%B5%E1%84%8B%E1%85%A6_%E1%84%83%E1%85%A1%E1%86%B7%E1%84%8B%E1%85%A1%E1%84%8B%E1%85%A3_%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB%E1%84%8C%E1%85%B5/" >- 어디에 담아야 하는지</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8C%E1%85%B5%E1%84%80%E1%85%B3%E1%86%B7%E1%84%81%E1%85%A1%E1%84%8C%E1%85%B5_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%84%83%E1%85%A5%E1%86%AB_for_%E1%84%85%E1%85%AE%E1%84%91%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%83%E1%85%A5_%E1%84%88%E1%85%A1%E1%84%85%E1%85%B3%E1%84%80%E1%85%A6_%E1%84%92%E1%85%A1%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%83%E1%85%A1%E1%84%80%E1%85%A9/" >- 지금까지 사용하던 for루프를 더 빠르게 할 수 있다고?</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/static_%E1%84%8C%E1%85%A6%E1%84%83%E1%85%A2%E1%84%85%E1%85%A9_%E1%84%92%E1%85%A1%E1%86%AB%E1%84%87%E1%85%A5%E1%86%AB_%E1%84%8A%E1%85%A5_%E1%84%87%E1%85%A9%E1%84%8C%E1%85%A1/" >- static 제대로 한번 써 보자</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%87%E1%85%A9_%E1%84%8B%E1%85%A5%E1%84%84%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6_%E1%84%8B%E1%85%A1%E1%86%AF%E1%84%8B%E1%85%A1%E1%84%82%E1%85%A2%E1%86%AF_%E1%84%89%E1%85%AE_%E1%84%8B%E1%85%B5%E1%86%BB%E1%84%82%E1%85%A1/" >- 클래스 정보, 어떻게 알아낼 수 있나?</option>
      <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%B5%E1%84%8B%E1%85%A3%E1%84%80%E1%85%B5/%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%87%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%84%89%E1%85%B5_%E1%84%91%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%82%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%86%E1%85%A1%E1%86%AB_%E1%84%8D%E1%85%B5%E1%86%A8%E1%84%8C%E1%85%A1/" >- 로그는 반드시 필요한 내용만 찍자</option>
  
    <option value="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/" >
   Spring 개발 이슈모음</option> 
      <option value="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B21/"  selected>- Spring Issue1</option>
      <option value="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B22/" >- Spring Issue2</option>
  
    <option value="/toby_spring/" >
   토비 스프링</option> 
      <option value="/toby_spring/%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%8B%E1%85%B4_ioc_di%E1%84%80%E1%85%A2%E1%84%82%E1%85%A7%E1%86%B7_bean_%E1%84%85%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%91%E1%85%B3%E1%84%89%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%8F%E1%85%B3%E1%86%AF/" >- 정의, IoC DI개념, Bean 라이프사이클</option>
      <option value="/toby_spring/%E1%84%8B%E1%85%A9%E1%84%87%E1%85%B3%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B4%E1%84%8C%E1%85%A9%E1%86%AB%E1%84%80%E1%85%AA%E1%86%AB%E1%84%80%E1%85%A8/" >- 오브젝트와 의존관계</option>
      <option value="/toby_spring/%E1%84%90%E1%85%A6%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3/" >- 테스트</option>
      <option value="/toby_spring/%E1%84%90%E1%85%A6%E1%86%B7%E1%84%91%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA/" >- 템플릿</option>
      <option value="/toby_spring/%E1%84%90%E1%85%A9%E1%84%87%E1%85%B5%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/" >- 예외</option>
      <option value="/toby_spring/%E1%84%89%E1%85%A5%E1%84%87%E1%85%B5%E1%84%89%E1%85%B3_%E1%84%8E%E1%85%AE%E1%84%89%E1%85%A1%E1%86%BC%E1%84%92%E1%85%AA/" >- 서비스 추상화</option>
      <option value="/toby_spring/aop/" >- AOP</option>
      <option value="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%92%E1%85%A2%E1%86%A8%E1%84%89%E1%85%B5%E1%86%B7_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B3%E1%86%BC%E1%84%8B%E1%85%AD%E1%86%BC/" >- 스프링 핵심 기술의 응용</option>
      <option value="/toby_spring/%E1%84%89%E1%85%B3%E1%84%91%E1%85%B3%E1%84%85%E1%85%B5%E1%86%BC_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%8C%E1%85%A6%E1%86%A8%E1%84%90%E1%85%B3_%E1%84%89%E1%85%B5%E1%84%8C%E1%85%A1%E1%86%A8%E1%84%92%E1%85%A1%E1%84%80%E1%85%B5/" >- 스프링 프로젝트 시작하기</option>
      <option value="/toby_spring/ioc_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%AA_di/" >- IoC 컨테이너와 DI</option>
  
    <option value="/effective_java/" >
   Effective Java(3rd edition 작업중)</option> 
      <option value="/effective_java/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%89%E1%85%A1%E1%86%A8%E1%84%8C%E1%85%A6/" >- 객체의 생성과 삭제</option>
      <option value="/effective_java/%E1%84%86%E1%85%A9%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8B%E1%85%B4_%E1%84%80%E1%85%A9%E1%86%BC%E1%84%90%E1%85%A9%E1%86%BC_%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/" >- 모든 객체의 공통 메서드</option>
      <option value="/effective_java/%E1%84%8F%E1%85%B3%E1%86%AF%E1%84%85%E1%85%A2%E1%84%89%E1%85%B3%E1%84%8B%E1%85%AA_%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%90%E1%85%A5%E1%84%91%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B3/" >- 클래스와 인터페이스</option>
      <option value="/effective_java/%E1%84%8C%E1%85%A6%E1%84%82%E1%85%A6%E1%84%85%E1%85%B5%E1%86%A8/" >- 제네릭</option>
      <option value="/effective_java/enum%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A5%E1%84%82%E1%85%A9%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%89%E1%85%A7%E1%86%AB/" >- enum과 어노테이션</option>
      <option value="/effective_java/%E1%84%85%E1%85%A1%E1%86%B7%E1%84%83%E1%85%A1%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7/" >- 람다와 스트림</option>
      <option value="/effective_java/%E1%84%86%E1%85%A6%E1%84%89%E1%85%A5%E1%84%83%E1%85%B3/" >- 메서드</option>
      <option value="/effective_java/%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%87%E1%85%A1%E1%86%AB%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%B5%E1%86%AB_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC_%E1%84%8B%E1%85%AF%E1%86%AB%E1%84%8E%E1%85%B5%E1%86%A8%E1%84%83%E1%85%B3%E1%86%AF/" >- 일반적인 프로그래밍 원칙들</option>
      <option value="/effective_java/%E1%84%8B%E1%85%A8%E1%84%8B%E1%85%AC/" >- 예외</option>
      <option value="/effective_java/%E1%84%87%E1%85%A7%E1%86%BC%E1%84%92%E1%85%A2%E1%86%BC%E1%84%89%E1%85%A5%E1%86%BC/" >- 병행성</option>
      <option value="/effective_java/%E1%84%8C%E1%85%B5%E1%86%A8%E1%84%85%E1%85%A7%E1%86%AF%E1%84%92%E1%85%AA/" >- 직렬화</option>
  
    <option value="/finalizer-attack/" >
   Finalizer attack</option>
    <option value="/gitflow/" >
   Git Flow</option>
    <option value="/junit&#43;mockito_vs_groovy&#43;spock/" >
   JUnit&#43;Mockito vs Groovy&#43;Spock</option>
    <option value="/singleton/" >
   Singleton</option>
    <option value="/understanding_the_tomcat_classpath/" >
   Understanding The Tomcat Classpath</option>
    <option value="/apache-and-tomcat/" >
   apache and tomcat</option>
    <option value="/identity/" >
   identity</option>
    <option value="/nginx_gzip_option/" >
   nginx gzip 옵션</option>
    <option value="/specification_by_example/" >
   specification by example</option>
    <option value="/what__why__how_living_documentation/" >
   what why how living_documentation</option>
    <option value="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%80%E1%85%AA_%E1%84%83%E1%85%B5%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AB%E1%84%91%E1%85%A2%E1%84%90%E1%85%A5%E1%86%AB/" >
   객체지향과 디자인패턴</option>
    <option value="/%E1%84%80%E1%85%A2%E1%86%A8%E1%84%8E%E1%85%A6%E1%84%8C%E1%85%B5%E1%84%92%E1%85%A3%E1%86%BC%E1%84%8B%E1%85%B4_%E1%84%89%E1%85%A1%E1%84%89%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA_%E1%84%8B%E1%85%A9%E1%84%92%E1%85%A2/" >
   객체지향의 사실과 오해</option>
    <option value="/%E1%84%82%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%86%E1%85%A1%E1%86%AB%E1%84%83%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%91%E1%85%A7%E1%86%AB/" >
   네이버를 만든 기술 자바편</option>
    <option value="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/" >
   대용량 아키텍처와 성능 튜닝</option> 
      <option value="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/soa/" >- 레퍼런스 아키텍처</option>
      <option value="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/msa/" >- 마이크로 서비스 아키텍처</option>
      <option value="/%E1%84%83%E1%85%A2%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%85%E1%85%A3%E1%86%BC_%E1%84%8B%E1%85%A1%E1%84%8F%E1%85%B5%E1%84%90%E1%85%A6%E1%86%A8%E1%84%8E%E1%85%A5%E1%84%8B%E1%85%AA_%E1%84%89%E1%85%A5%E1%86%BC%E1%84%82%E1%85%B3%E1%86%BC_%E1%84%90%E1%85%B2%E1%84%82%E1%85%B5%E1%86%BC/rest/" >- REST의 이해와 설계</option>
  
    <option value="/%E1%84%86%E1%85%A1%E1%84%8B%E1%85%B5%E1%84%87%E1%85%A1%E1%84%90%E1%85%B5%E1%84%89%E1%85%B3%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%89%E1%85%A1%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1_%E1%84%91%E1%85%A5%E1%84%89%E1%85%B5%E1%84%89%E1%85%B3%E1%84%90%E1%85%A5%E1%86%AB%E1%84%89%E1%85%B3_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF/" >
   마이바티스를 사용한 자바 퍼시스턴스 개발</option>
    <option value="/%E1%84%89%E1%85%A9%E1%84%91%E1%85%B3%E1%84%90%E1%85%B3%E1%84%8B%E1%85%B0%E1%84%8B%E1%85%A5_%E1%84%91%E1%85%AE%E1%86%B7%E1%84%8C%E1%85%B5%E1%86%AF%E1%84%80%E1%85%AA%E1%86%AB%E1%84%85%E1%85%B5_nhn%E1%84%8B%E1%85%B3%E1%86%AB_%E1%84%8B%E1%85%B5%E1%84%85%E1%85%A5%E1%87%82%E1%84%80%E1%85%A6%E1%84%92%E1%85%A1%E1%86%AB%E1%84%83%E1%85%A1/" >
   소프트웨어 품질관리(NHN은 이렇게한다)</option>
    <option value="/%E1%84%89%E1%85%B5%E1%86%AF%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%8C%E1%85%AE%E1%84%8B%E1%85%B4%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5_%E1%84%8B%E1%85%B5%E1%86%A8%E1%84%89%E1%85%B3%E1%84%90%E1%85%B3%E1%84%85%E1%85%B5%E1%86%B7%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%B5%E1%86%BC/" >
   실용주의프로그래머 익스트림프로그래밍</option>
    <option value="/%E1%84%8B%E1%85%A2%E1%84%8C%E1%85%A1%E1%84%8B%E1%85%B5%E1%86%AF%E1%84%8C%E1%85%A5%E1%86%A8%E1%84%8B%E1%85%AD%E1%86%BC%E1%84%92%E1%85%AE%E1%84%80%E1%85%B5/" >
   애자일적용후기</option>
    <option value="/%E1%84%8B%E1%85%B0%E1%86%B8%E1%84%8B%E1%85%B3%E1%86%AF_%E1%84%8C%E1%85%B5%E1%84%90%E1%85%A2%E1%86%BC%E1%84%92%E1%85%A1%E1%84%82%E1%85%B3%E1%86%AB_%E1%84%80%E1%85%B5%E1%84%89%E1%85%AE%E1%86%AF/" >
   웹을 지탱하는 기술</option>
    <option value="/%E1%84%8B%E1%85%B0%E1%86%B8_%E1%84%91%E1%85%B3%E1%84%85%E1%85%A9%E1%84%80%E1%85%B3%E1%84%85%E1%85%A2%E1%84%86%E1%85%A5%E1%84%85%E1%85%B3%E1%86%AF_%E1%84%8B%E1%85%B1%E1%84%92%E1%85%A1%E1%86%AB_%E1%84%89%E1%85%A5%E1%84%87%E1%85%B3%E1%86%AF%E1%84%85%E1%85%B5%E1%86%BA_%E1%84%8F%E1%85%A5%E1%86%AB%E1%84%90%E1%85%A6%E1%84%8B%E1%85%B5%E1%84%82%E1%85%A5%E1%84%8B%E1%85%B4_%E1%84%8B%E1%85%B5%E1%84%92%E1%85%A2/" >
   웹프로그래머를 위한 서블릿 컨테이너의 이해</option>
    <option value="/%E1%84%8C%E1%85%A1%E1%84%87%E1%85%A1%E1%84%8B%E1%85%B4_%E1%84%8C%E1%85%A5%E1%86%BC%E1%84%89%E1%85%A5%E1%86%A8/" >
   자바의 정석</option>
    <option value="/clean_coders/" >
   클린코더스 강의 정리</option>



        </select>
      </center>
    </div>
      <div>
        <div class="searchbox">
          <input data-search-input id="search-by" type="text" placeholder="">
        </div>
        <script type="text/javascript" src="/js/lunr.min.js"></script>
        <script type="text/javascript" src="/js/auto-complete.js"></script>
        <link href="/css/auto-complete.css" rel="stylesheet">
        <script type="text/javascript">
          
              var baseurl = "\/";
          
        </script>
        <script type="text/javascript" src="/js/search.js"></script>
      </div>
    

    <h1>Spring Issue1</h1>
    
    
    
    

<h2 id="1-통합테스트-애노테이션-정리">1. 통합테스트 애노테이션 정리</h2>

<h3 id="spring">Spring</h3>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span> 

<span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/app-config.xml&#34;</span><span style="color:#f92672">)</span></code></pre></div>
<p><code>@ContextConfiguration</code>은 통합 테스트에서 클래스 레벨 메타데이터(xml 파일 or javaConfig 파일)를 정의한다. 다시 말해, context를 로드하는데 사용되는 annotated class(@Configuration 클래스)나 application context resource locations(classpath에 위치한 XML 설정 파일)들을 선언한다.</p>

<p>또한 <code>@ContextConfiguration</code>은 ContextLoader 전략을 사용할 수 있다. 하지만 일반적으로 로더를 직접 명시할 필요는 없다. default loader가 initializers 뿐만 아니라 resource locations 또는 annotated classes를 지원하기 때문이다.</p>

<hr />

<p><strong>문제 발생</strong></p>

<p>Spring Boot에서 <code>@ContextConfiguration(classes = Application.class)</code>만 설정했더니</p>

<pre><code>[main] DEBUG org.springframework.core.type.classreading.AnnotationAttributesReadingVisitor -
Failed to class-load type while reading annotation metadata. 
This is a non-fatal error, but certain annotation metadata may be unavailable.

java.lang.ClassNotFoundException:
org.springframework.data.web.config.EnableSpringDataWebSupport
...
java.lang.ClassNotFoundException:
org.springframework.security.config.annotation.web.configuration.EnableWebSecurity
...
</code></pre>

<p>위와 같은 에러뿐만 아니라 기본적인 Autowired 설정도 안되고, BeanCreationException도 발생했다.<br />
원인은 애노테이션이 classpath에 없기 때문에 클래스가 로드될 때 JVM이 drop 시켜서 발생한 문제였다.</p>

<p><strong>해결 방법1</strong></p>

<p>Spring Boot에서는 기존의 <code>@ContextConfiguration</code> 대신 <code>@SpringApplicationConfiguration</code>을 제공한다. ApplicationContext 설정을 <code>@SpringApplicationConfiguration</code>으로 사용하면 SpringApplication 으로 생성되고 추가적인 Spring Boot feature들을 얻을 수 있다.</p>

<p><strong>해결 방법2</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span> 
<span style="color:#111">loader</span> <span style="color:#f92672">=</span> <span style="color:#111">SpringApplicationContextLoader</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span></code></pre></div>
<p>그런데 1.4부터 SpringApplicationContextLoader가 Deprecated 되었다.</p>

<p><strong>해결 방법3</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span> 
<span style="color:#111">initializers</span> <span style="color:#f92672">=</span> <span style="color:#111">ConfigFileApplicationContextInitializer</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span></code></pre></div>
<p>ConfigFileApplicationContextInitializer는 Spring Boot application.properties파일을 로드해 테스트 코드에 적용한다. <code>@SpringApplicationConfiguration</code>가 제공하는 full feature들이 필요 없을 때 사용된다.</p>

<p>cf) spring boot 1.4</p>

<p>직접적인 Configuration 설정 없이도 <code>@*Test</code> 애노테이션이 자동으로 primary configuration을 찾는다(테스트가 포함된 패키지로부터 <code>@SpringBootApplication</code>또는 <code>@SpringBootConfiguration</code> 애노테이션 클래스를 찾는다).</p>

<h3 id="spring-boot">Spring Boot</h3>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// 방법1
</span><span style="color:#75715e"></span><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@SpringApplicationConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// 방법2 (1.4부터 SpringApplicationContextLoader Deprecated 됌)
</span><span style="color:#75715e"></span><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span> <span style="color:#111">loader</span> <span style="color:#f92672">=</span> <span style="color:#111">SpringApplicationContextLoader</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// 방법3
</span><span style="color:#75715e"></span><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@ContextConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span> 
<span style="color:#111">initializers</span> <span style="color:#f92672">=</span> <span style="color:#111">ConfigFileApplicationContextInitializer</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>

<span style="color:#75715e">// 방법4 (spring boot 1.4부터 가능)
</span><span style="color:#75715e"></span><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@SpringBootTest</span><span style="color:#f92672">(</span><span style="color:#111">webEnvironment</span><span style="color:#f92672">=</span><span style="color:#111">WebEnvironment</span><span style="color:#f92672">.</span><span style="color:#75af00">RANDOM_PORT</span><span style="color:#f92672">)</span></code></pre></div>
<p>cf) 방법4에서 <code>@SpringBootTest</code>에서 classes 속성을 생략하면 inner-classes에서 <code>@Configuration</code>을 제일 먼저 로드하려 시도하고, 없으면 <code>@SpringBootApplication</code> class를 찾는다.</p>

<p><strong>@WebApplicationContext</strong></p>

<p>WebApplicationContext을 생성할 수 있게 해준다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RunWith</span><span style="color:#f92672">(</span><span style="color:#111">SpringJUnit4ClassRunner</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@SpringApplicationConfiguration</span><span style="color:#f92672">(</span><span style="color:#111">classes</span> <span style="color:#f92672">=</span> <span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@WebAppConfiguration</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">AccountControllerTest</span> <span style="color:#f92672">{</span>

  <span style="color:#75af00">@Autowired</span>
  <span style="color:#111">WebApplicationContext</span> <span style="color:#111">wac</span><span style="color:#f92672">;</span>
  <span style="color:#111">MockMvc</span> <span style="color:#111">mockMvc</span><span style="color:#f92672">;</span>

  <span style="color:#75af00">@Before</span>
  <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">setUp</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
      <span style="color:#111">mockMvc</span> <span style="color:#f92672">=</span> <span style="color:#111">MockMvcBuilders</span><span style="color:#f92672">.</span><span style="color:#75af00">webAppContextSetup</span><span style="color:#f92672">(</span><span style="color:#111">wac</span><span style="color:#f92672">).</span><span style="color:#75af00">build</span><span style="color:#f92672">();</span>
  <span style="color:#f92672">}</span>

  <span style="color:#f92672">...</span>
<span style="color:#f92672">}</span></code></pre></div>
<h2 id="2-datasource">2. dataSource</h2>

<p>메이븐 pom.xml에서 에서 spring-boot-starter-data-jpa 를 추가하면 그안에 spring-boot-starter-jdbc가 있고 그 안에 tomcat-jdbc가 있다.<br />
Spring Boot에서는 DataSource 관리를 위한 구현체로써 tomcat-jdbc(The Tomcat JDBC Pool) 을 default로 제공한다.</p>

<p>근데 실서버에 배포 했을 때 에러가 반복해서 발생했고 그 주기도 일정치 않아서 재연이 쉽지 않았다. <code>validationQuery: select 1</code>을 설정했음에도 connection이 자꾸 닫히는 문제가 발생했다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">[</span><span style="color:#111">2016</span><span style="color:#f92672">-</span><span style="color:#111">05</span><span style="color:#f92672">-</span><span style="color:#111">19</span> <span style="color:#111">17:37:</span><span style="color:#111">40</span><span style="color:#f92672">.</span><span style="color:#75af00">187</span><span style="color:#f92672">]</span> <span style="color:#111">boot</span> <span style="color:#f92672">-</span> <span style="color:#111">11886</span> <span style="color:#111">ERROR</span> <span style="color:#f92672">[</span><span style="color:#111">http</span><span style="color:#f92672">-</span><span style="color:#111">nio</span><span style="color:#f92672">-</span><span style="color:#111">8080</span><span style="color:#f92672">-</span><span style="color:#111">exec</span><span style="color:#f92672">-</span><span style="color:#111">3</span><span style="color:#f92672">]</span> <span style="color:#f92672">---</span> <span style="color:#111">SqlExceptionHelper:</span> <span style="color:#111">No</span> <span style="color:#111">operations</span> <span style="color:#111">allowed</span> <span style="color:#111">after</span> <span style="color:#111">connection</span> <span style="color:#111">closed</span><span style="color:#f92672">.</span>
<span style="color:#f92672">[</span><span style="color:#111">2016</span><span style="color:#f92672">-</span><span style="color:#111">05</span><span style="color:#f92672">-</span><span style="color:#111">19</span> <span style="color:#111">17:37:</span><span style="color:#111">40</span><span style="color:#f92672">.</span><span style="color:#75af00">188</span><span style="color:#f92672">]</span> <span style="color:#111">boot</span> <span style="color:#f92672">-</span> <span style="color:#111">11886</span> <span style="color:#111">ERROR</span> <span style="color:#f92672">[</span><span style="color:#111">http</span><span style="color:#f92672">-</span><span style="color:#111">nio</span><span style="color:#f92672">-</span><span style="color:#111">8080</span><span style="color:#f92672">-</span><span style="color:#111">exec</span><span style="color:#f92672">-</span><span style="color:#111">3</span><span style="color:#f92672">]</span> <span style="color:#f92672">---</span> <span style="color:#111">TransactionInterceptor:</span> <span style="color:#111">Application</span> <span style="color:#111">exception</span> <span style="color:#111">overridden</span> <span style="color:#111">by</span> <span style="color:#111">rollback</span> <span style="color:#111">exception</span>
<span style="color:#111">javax</span><span style="color:#f92672">.</span><span style="color:#75af00">persistence</span><span style="color:#f92672">.</span><span style="color:#75af00">PersistenceException</span><span style="color:#f92672">:</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">hibernate</span><span style="color:#f92672">.</span><span style="color:#75af00">exception</span><span style="color:#f92672">.</span><span style="color:#75af00">JDBCConnectionException</span><span style="color:#f92672">:</span> <span style="color:#111">could</span> <span style="color:#111">not</span> <span style="color:#111">prepare</span> <span style="color:#111">statement</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">hibernate</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">spi</span><span style="color:#f92672">.</span><span style="color:#75af00">AbstractEntityManagerImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">convert</span><span style="color:#f92672">(</span><span style="color:#111">AbstractEntityManagerImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">1763</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">hibernate</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">spi</span><span style="color:#f92672">.</span><span style="color:#75af00">AbstractEntityManagerImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">convert</span><span style="color:#f92672">(</span><span style="color:#111">AbstractEntityManagerImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">1677</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">hibernate</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">internal</span><span style="color:#f92672">.</span><span style="color:#75af00">QueryImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">getResultList</span><span style="color:#f92672">(</span><span style="color:#111">QueryImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">458</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">hibernate</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">criteria</span><span style="color:#f92672">.</span><span style="color:#75af00">compile</span><span style="color:#f92672">.</span><span style="color:#75af00">CriteriaQueryTypeQueryAdapter</span><span style="color:#f92672">.</span><span style="color:#75af00">getResultList</span><span style="color:#f92672">(</span><span style="color:#111">CriteriaQueryTypeQueryAdapter</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">67</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">repository</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">SimpleJpaRepository</span><span style="color:#f92672">.</span><span style="color:#75af00">findAll</span><span style="color:#f92672">(</span><span style="color:#111">SimpleJpaRepository</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">323</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">sun</span><span style="color:#f92672">.</span><span style="color:#75af00">reflect</span><span style="color:#f92672">.</span><span style="color:#75af00">NativeMethodAccessorImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke0</span><span style="color:#f92672">(</span><span style="color:#111">Native</span> <span style="color:#111">Method</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">sun</span><span style="color:#f92672">.</span><span style="color:#75af00">reflect</span><span style="color:#f92672">.</span><span style="color:#75af00">NativeMethodAccessorImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">NativeMethodAccessorImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">62</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">sun</span><span style="color:#f92672">.</span><span style="color:#75af00">reflect</span><span style="color:#f92672">.</span><span style="color:#75af00">DelegatingMethodAccessorImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">DelegatingMethodAccessorImpl</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">43</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">java</span><span style="color:#f92672">.</span><span style="color:#75af00">lang</span><span style="color:#f92672">.</span><span style="color:#75af00">reflect</span><span style="color:#f92672">.</span><span style="color:#75af00">Method</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">Method</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">497</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">repository</span><span style="color:#f92672">.</span><span style="color:#75af00">core</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">RepositoryFactorySupport$QueryExecutorMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">executeMethodOn</span><span style="color:#f92672">(</span><span style="color:#111">RepositoryFactorySupport</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">483</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">repository</span><span style="color:#f92672">.</span><span style="color:#75af00">core</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">RepositoryFactorySupport$QueryExecutorMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">doInvoke</span><span style="color:#f92672">(</span><span style="color:#111">RepositoryFactorySupport</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">468</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">repository</span><span style="color:#f92672">.</span><span style="color:#75af00">core</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">RepositoryFactorySupport$QueryExecutorMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">RepositoryFactorySupport</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">440</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">aop</span><span style="color:#f92672">.</span><span style="color:#75af00">framework</span><span style="color:#f92672">.</span><span style="color:#75af00">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">proceed</span><span style="color:#f92672">(</span><span style="color:#111">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">179</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">projection</span><span style="color:#f92672">.</span><span style="color:#75af00">DefaultMethodInvokingMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">DefaultMethodInvokingMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">61</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">aop</span><span style="color:#f92672">.</span><span style="color:#75af00">framework</span><span style="color:#f92672">.</span><span style="color:#75af00">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">proceed</span><span style="color:#f92672">(</span><span style="color:#111">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">179</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">transaction</span><span style="color:#f92672">.</span><span style="color:#75af00">interceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">TransactionInterceptor$1</span><span style="color:#f92672">.</span><span style="color:#75af00">proceedWithInvocation</span><span style="color:#f92672">(</span><span style="color:#111">TransactionInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">99</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">transaction</span><span style="color:#f92672">.</span><span style="color:#75af00">interceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">TransactionAspectSupport</span><span style="color:#f92672">.</span><span style="color:#75af00">invokeWithinTransaction</span><span style="color:#f92672">(</span><span style="color:#111">TransactionAspectSupport</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">281</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">transaction</span><span style="color:#f92672">.</span><span style="color:#75af00">interceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">TransactionInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">TransactionInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">96</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">aop</span><span style="color:#f92672">.</span><span style="color:#75af00">framework</span><span style="color:#f92672">.</span><span style="color:#75af00">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">proceed</span><span style="color:#f92672">(</span><span style="color:#111">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">179</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">dao</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">PersistenceExceptionTranslationInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">PersistenceExceptionTranslationInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">136</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">aop</span><span style="color:#f92672">.</span><span style="color:#75af00">framework</span><span style="color:#f92672">.</span><span style="color:#75af00">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">proceed</span><span style="color:#f92672">(</span><span style="color:#111">ReflectiveMethodInvocation</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">179</span><span style="color:#f92672">)</span>
<span style="color:#111">at</span> <span style="color:#111">org</span><span style="color:#f92672">.</span><span style="color:#75af00">springframework</span><span style="color:#f92672">.</span><span style="color:#75af00">data</span><span style="color:#f92672">.</span><span style="color:#75af00">jpa</span><span style="color:#f92672">.</span><span style="color:#75af00">repository</span><span style="color:#f92672">.</span><span style="color:#75af00">support</span><span style="color:#f92672">.</span><span style="color:#75af00">CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor</span><span style="color:#f92672">.</span><span style="color:#75af00">invoke</span><span style="color:#f92672">(</span><span style="color:#111">CrudMethodMetadataPostProcessor</span><span style="color:#f92672">.</span><span style="color:#75af00">java</span><span style="color:#f92672">:</span><span style="color:#111">131</span><span style="color:#f92672">)</span></code></pre></div>
<p>그래서 해결책으로 hikari cp를 사용했다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">//관련 의존성 추가
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>com.zaxxer<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>HikariCP<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.4.6<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>

<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-configuration-processor<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;optional&gt;</span>true<span style="color:#f92672">&lt;/optional&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//설정 추가 
</span><span style="color:#75715e"></span><span style="color:#75af00">@Configuration</span>
<span style="color:#75af00">@ConfigurationProperties</span><span style="color:#f92672">(</span><span style="color:#111">prefix</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;hikari.datasource&#34;</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">JpaConfig</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">HikariConfig</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@Bean</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">DataSource</span> <span style="color:#75af00">dataSource</span><span style="color:#f92672">()</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">SQLException</span><span style="color:#f92672">{</span>

        <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">new</span> <span style="color:#111">HikariDataSource</span><span style="color:#f92672">(</span><span style="color:#00a8c8">this</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<pre><code>// yml 추가
hikari:
  datasource:
    jdbcUrl: jdbc:mysql://blabla
    driverClassName: com.mysql.jdbc.Driver
    username: blabla
    password: blabla
    maximum-pool-size: 5
    connection-test-query: select 1
</code></pre>

<p><strong>그러나 설정파일에 hikari 의존이 생기는 건 좋지 않다.</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>org.springframework.boot<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>spring-boot-starter-data-jpa<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;exclusions&gt;</span>
      <span style="color:#f92672">&lt;exclusion&gt;</span>
        <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.tomcat<span style="color:#f92672">&lt;/groupId&gt;</span>
        <span style="color:#f92672">&lt;artifactId&gt;</span>tomcat-jdbc<span style="color:#f92672">&lt;/artifactId&gt;</span>
      <span style="color:#f92672">&lt;/exclusion&gt;</span>
    <span style="color:#f92672">&lt;/exclusions&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div>
<p>위와 같이 tomcat에서 제공하는 기본 dataSource를 지우면 boot에서 자동으로 hikari cp로 설정된다. 따라서 JpaConfig 파일도 필요 없게 되고 yml에서 hikari를 지워도 된다.</p>

<hr />

<p><strong>2016.08.12 추가</strong></p>

<p>Spring Boot 1.4부터는 db 프로파일에 <code>spring.datasource.hikari</code>를 명시적으로 작성할 수 있게 됐다.</p>

<h2 id="3-request-url에-문자열-t-을-확장자로-인식">3. request url에 문자열 &ldquo;.t&rdquo;을 확장자로 인식</h2>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/messages/receiverUsername/{receiverUsername:.+}&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">method</span> <span style="color:#f92672">=</span> <span style="color:#111">RequestMethod</span><span style="color:#f92672">.</span><span style="color:#75af00">GET</span><span style="color:#f92672">)</span></code></pre></div>
<p>위와 같이 정규식으로 모든 문자열을 (. 포함) 받겠다고 명시했음에도 .t는 인식이 안되는 문제가 발생했다.</p>

<p>이유는 .t라는 확장자가 있기 때문에 아래와 같이 설정에서 mediaType을 json으로 직접 명시해주면 해결이 가능하다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Override</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">configureContentNegotiation</span><span style="color:#f92672">(</span><span style="color:#111">ContentNegotiationConfigurer</span> <span style="color:#111">configurer</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#111">configurer</span><span style="color:#f92672">.</span><span style="color:#75af00">favorPathExtension</span><span style="color:#f92672">(</span><span style="color:#00a8c8">true</span><span style="color:#f92672">);</span>
    <span style="color:#111">configurer</span><span style="color:#f92672">.</span><span style="color:#75af00">useJaf</span><span style="color:#f92672">(</span><span style="color:#00a8c8">false</span><span style="color:#f92672">);</span>
    <span style="color:#111">configurer</span><span style="color:#f92672">.</span><span style="color:#75af00">ignoreAcceptHeader</span><span style="color:#f92672">(</span><span style="color:#00a8c8">true</span><span style="color:#f92672">);</span>
    <span style="color:#111">configurer</span><span style="color:#f92672">.</span><span style="color:#75af00">mediaType</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;json&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">MediaType</span><span style="color:#f92672">.</span><span style="color:#75af00">APPLICATION_JSON</span><span style="color:#f92672">);</span>
<span style="color:#f92672">}</span></code></pre></div>
<h2 id="4-spring-mvc-test">4. Spring MVC Test</h2>

<p>Spring Framework 4.2.6에서 Spring MVC Test를 처음 생성하다 다음과 같은 에러가 발생했다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">java</span><span style="color:#f92672">.</span><span style="color:#75af00">lang</span><span style="color:#f92672">.</span><span style="color:#75af00">NoClassDefFoundError</span><span style="color:#f92672">:</span> <span style="color:#111">javax</span><span style="color:#f92672">/</span><span style="color:#111">servlet</span><span style="color:#f92672">/</span><span style="color:#111">SessionCookieConfig</span></code></pre></div>
<p>문제는 org.springframework.mock.web에 있는 mock set들은 Servlet 3.0 API를 기반으로 동작하는데 현재 프로젝트 Servlet 버전은 2.5였다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">변경 전
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>javax.servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>2.5<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span>

변경 후
<span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>javax.servlet<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>javax.servlet-api<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>3.1.0<span style="color:#f92672">&lt;/version&gt;</span>
    <span style="color:#f92672">&lt;scope&gt;</span>provided<span style="color:#f92672">&lt;/scope&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div>
<p>The Spring 4.0.1 reference documentation is now more clear about the Mocks: <strong>Servlet 3.0+ is strongly recommended and a prerequisite in Spring&rsquo;s test and mock packages for test setups in development environments.</strong></p>

<h2 id="5-날짜">5. 날짜</h2>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">// 기존 날짜 데이터 처리 방식
</span><span style="color:#75715e"></span><span style="color:#00a8c8">long</span> <span style="color:#111">plusDay</span> <span style="color:#f92672">=</span> <span style="color:#111">xxxSchedule</span><span style="color:#f92672">.</span><span style="color:#75af00">getExecutionDate</span><span style="color:#f92672">().</span><span style="color:#75af00">getTime</span><span style="color:#f92672">()</span> <span style="color:#f92672">+</span> <span style="color:#111">TimeUnit</span><span style="color:#f92672">.</span><span style="color:#75af00">DAYS</span><span style="color:#f92672">.</span><span style="color:#75af00">toMillis</span><span style="color:#f92672">(</span><span style="color:#111">extendDays</span><span style="color:#f92672">);</span>

<span style="color:#111">xxxSchedule</span><span style="color:#f92672">.</span><span style="color:#75af00">setRegisterDate</span><span style="color:#f92672">(</span><span style="color:#111">Date</span><span style="color:#f92672">.</span><span style="color:#75af00">from</span><span style="color:#f92672">(</span><span style="color:#111">Instant</span><span style="color:#f92672">.</span><span style="color:#75af00">now</span><span style="color:#f92672">()));</span>
<span style="color:#111">xxxSchedule</span><span style="color:#f92672">.</span><span style="color:#75af00">setExecutionDate</span><span style="color:#f92672">(</span><span style="color:#00a8c8">new</span> <span style="color:#111">Date</span><span style="color:#f92672">(</span><span style="color:#111">plugDay</span><span style="color:#f92672">));</span>

<span style="color:#75715e">// 자바8 현재 날짜 구하기
</span><span style="color:#75715e"></span><span style="color:#111">LocalDateTime</span><span style="color:#f92672">.</span><span style="color:#75af00">now</span><span style="color:#f92672">()</span>
<span style="color:#111">LocalDate</span><span style="color:#f92672">.</span><span style="color:#75af00">now</span><span style="color:#f92672">().</span><span style="color:#75af00">format</span><span style="color:#f92672">(</span><span style="color:#111">DateTimeFormatter</span><span style="color:#f92672">.</span><span style="color:#75af00">ofPattern</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;yyyyMMdd&#34;</span><span style="color:#f92672">));</span>

<span style="color:#75715e">// 타임스탬프에서 날짜 가져오기
</span><span style="color:#75715e"></span><span style="color:#111">Long</span> <span style="color:#111">time</span> <span style="color:#f92672">=</span> <span style="color:#111">1470651527000L</span><span style="color:#f92672">;</span>
<span style="color:#111">DateFormat</span> <span style="color:#111">dateFormat</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">SimpleDateFormat</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;yyyy-MM-dd&#34;</span><span style="color:#f92672">);</span>
<span style="color:#111">String</span> <span style="color:#111">format</span> <span style="color:#f92672">=</span> <span style="color:#111">dateFormat</span><span style="color:#f92672">.</span><span style="color:#75af00">format</span><span style="color:#f92672">(</span><span style="color:#111">time</span><span style="color:#f92672">);</span></code></pre></div>
<h2 id="6-mockito">6. Mockito</h2>

<p><strong>verify</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">verify</span><span style="color:#f92672">(</span><span style="color:#111">xxxRepository</span><span style="color:#f92672">,</span> <span style="color:#111">never</span><span style="color:#f92672">()).</span><span style="color:#75af00">save</span><span style="color:#f92672">(</span><span style="color:#111">any</span><span style="color:#f92672">(</span><span style="color:#111">xxx</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">));</span></code></pre></div>
<p><code>never()</code> : 어떤 조건에 따라 호출되면 안되는 경우, 진짜 호출이 안되는지 확인.</p>

<p><code>&lt;T&gt; T any(Class&lt;T&gt; clazz)</code>: anyObject와는 다르게 클래스를 지정할 수 있다.</p>

<p><strong>spy</strong><br />
해당 서비스안에 있는 일반 메서드를 <code>when().thenReturn()</code>을 통해 제어하고 싶을 때 서비스를 spy로 만들어서 할 수 있다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">xxxService</span> <span style="color:#111">xxxServiceSpy</span> <span style="color:#f92672">=</span> <span style="color:#111">Mockito</span><span style="color:#f92672">.</span><span style="color:#75af00">spy</span><span style="color:#f92672">(</span><span style="color:#111">xxxService</span><span style="color:#f92672">);</span></code></pre></div>
<p><strong>ArgumentCaptor</strong><br />
참고 : <a href="http://stackoverflow.com/questions/12295891/how-to-use-argumentcaptor-for-stubbing">http://stackoverflow.com/questions/12295891/how-to-use-argumentcaptor-for-stubbing</a></p>

<p>stub을 만들지 않고, 메서드가 호출됐는지 확인하는 것과 인자가 정확한지 확인하고 싶을 때 ArgumentCaptor방식을 사용할 수 있다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">ArgumentCaptor</span><span style="color:#f92672">&lt;</span><span style="color:#111">SomeClass</span><span style="color:#f92672">&gt;</span> <span style="color:#111">argumentCaptor</span> <span style="color:#f92672">=</span> <span style="color:#111">ArgumentCaptor</span><span style="color:#f92672">.</span><span style="color:#75af00">forClass</span><span style="color:#f92672">(</span><span style="color:#111">SomeClass</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>
<span style="color:#111">verify</span><span style="color:#f92672">(</span><span style="color:#111">someObject</span><span style="color:#f92672">).</span><span style="color:#75af00">doSomething</span><span style="color:#f92672">(</span><span style="color:#111">argumentCaptor</span><span style="color:#f92672">.</span><span style="color:#75af00">capture</span><span style="color:#f92672">());</span>
<span style="color:#111">assertNull</span><span style="color:#f92672">(</span><span style="color:#111">argumentCaptor</span><span style="color:#f92672">.</span><span style="color:#75af00">getValue</span><span style="color:#f92672">().</span><span style="color:#75af00">getXXX</span><span style="color:#f92672">());</span></code></pre></div>
<h2 id="7-yaml">7. YAML</h2>

<p>기존 spring 프로젝트에서 yml 설정을 하기 위해서 먼저 의존성을 추가해준다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;dependency&gt;</span>
    <span style="color:#f92672">&lt;groupId&gt;</span>org.yaml<span style="color:#f92672">&lt;/groupId&gt;</span>
    <span style="color:#f92672">&lt;artifactId&gt;</span>snakeyaml<span style="color:#f92672">&lt;/artifactId&gt;</span>
    <span style="color:#f92672">&lt;version&gt;</span>1.17<span style="color:#f92672">&lt;/version&gt;</span>
<span style="color:#f92672">&lt;/dependency&gt;</span></code></pre></div>
<p>그리고 서블릿 컨텍스트에 yaml 설정을 추가해준다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;beans</span> <span style="color:#75af00">xmlns=</span><span style="color:#d88200">&#34;http://www.springframework.org/schema/beans&#34;</span> <span style="color:#75af00">xmlns:mvc=</span><span style="color:#d88200">&#34;http://www.springframework.org/schema/mvc&#34;</span>
    <span style="color:#75af00">xmlns:xsi=</span><span style="color:#d88200">&#34;http://www.w3.org/2001/XMLSchema-instance&#34;</span> <span style="color:#75af00">xmlns:context=</span><span style="color:#d88200">&#34;http://www.springframework.org/schema/context&#34;</span> <span style="color:#75af00">xsi:schemaLocation=</span><span style="color:#d88200">&#34;
</span><span style="color:#d88200">        http://www.springframework.org/schema/beans
</span><span style="color:#d88200">        http://www.springframework.org/schema/beans/spring-beans.xsd
</span><span style="color:#d88200">        http://www.springframework.org/schema/mvc
</span><span style="color:#d88200">        http://www.springframework.org/schema/mvc/spring-mvc.xsd
</span><span style="color:#d88200">        http://www.springframework.org/schema/context 
</span><span style="color:#d88200">        http://www.springframework.org/schema/context/spring-context.xsd&#34;</span><span style="color:#f92672">&gt;</span>

<span style="color:#f92672">&lt;bean</span> <span style="color:#75af00">id=</span><span style="color:#d88200">&#34;yamlProperties&#34;</span> <span style="color:#75af00">class=</span><span style="color:#d88200">&#34;org.springframework.beans.factory.config.YamlPropertiesFactoryBean&#34;</span><span style="color:#f92672">&gt;</span>
        <span style="color:#f92672">&lt;property</span> <span style="color:#75af00">name=</span><span style="color:#d88200">&#34;resources&#34;</span> <span style="color:#75af00">value=</span><span style="color:#d88200">&#34;classpath:application.yml&#34;</span> <span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span>

<span style="color:#f92672">&lt;context:property-placeholder</span> <span style="color:#75af00">properties-ref=</span><span style="color:#d88200">&#34;yamlProperties&#34;</span> <span style="color:#f92672">/&gt;</span></code></pre></div>
<p>cf) spring boot에서는 classpath 에 application.yml 을 추가 하면 자동으로 boot가 스캔하기 때문에 따로 설정이 필요없다.</p>

<pre><code>    &lt;build&gt;
        &lt;!-- Turn on filtering by default for application properties --&gt;
        &lt;resources&gt;
            &lt;resource&gt;
                &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;
                &lt;filtering&gt;true&lt;/filtering&gt;
                &lt;includes&gt;
                    &lt;include&gt;**/application.yml&lt;/include&gt;
                    &lt;include&gt;**/application.properties&lt;/include&gt;
                &lt;/includes&gt;
            &lt;/resource&gt;
            &lt;resource&gt;
                &lt;directory&gt;${basedir}/src/main/resources&lt;/directory&gt;
                &lt;excludes&gt;
                    &lt;exclude&gt;**/application.yml&lt;/exclude&gt;
                    &lt;exclude&gt;**/application.properties&lt;/exclude&gt;
                &lt;/excludes&gt;
            &lt;/resource&gt;
        &lt;/resources&gt;
    &lt;/build&gt;
</code></pre>

<p><strong>application.yml 작성 예</strong></p>

<pre><code>spring:
  profiles.active: local

---
spring:
  velocity:
    properties.input.encodig: UTF-8
    properties.output.encodig: UTF-8
    cache: false
  jpa:
    show-sql: true
    database-platform: org.hibernate.dialect.MySQL5Dialect
    hibernate:
      ddl-auto: validate
      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy
    properties:
      hibernate:
        temp:
          use_jdbc_metadata_defaults: false
---
spring:
  profiles: h2-db

  datasource:
    jdbcUrl: jdbc:h2:mem:AZ;DB_CLOSE_DELAY=-1;DB_CLOSE_ON_EXIT=FALSE
    driverClassName: org.h2.Driver
    username: xxx
    password: xxx
    maxWait: 1000

  h2:
    console:
      enabled: true
      path: /h2-console

  jpa:
    show-sql: false
    database-platform: org.hibernate.dialect.H2Dialect
    hibernate:
      ddl-auto: create
      naming-strategy: org.hibernate.cfg.ImprovedNamingStrategy
    properties:
      hibernate:
        temp:
          use_jdbc_metadata_defaults: false
logging:
  level: info

---
spring:
  profiles: real-db

  datasource:
    jdbcUrl: xxx
    driverClassName: com.mysql.jdbc.Driver
    username: xxx
    password: xxx
    maximum-pool-size: 5
    connection-test-query: select 1
---
spring:
  profiles: aws-db-test

  datasource:
    jdbcUrl: xxx
    driverClassName: com.mysql.jdbc.Driver
    username: xxx
    password: xxx
    maximum-pool-size: 5
    connection-test-query: select 1
---
spring:
  profiles: local

  datasource:
    url: xxx
    driverClassName: com.mysql.jdbc.Driver
    username: xxx
    password: xxx
    maxWait: 1000
    validationQuery: select 1
</code></pre>

<h2 id="8-기존-xml-설정을-javaconfig로-변경하기">8. 기존 xml 설정을 JavaConfig로 변경하기</h2>

<p>먼저 web.xml에서 contextConfigLocation을 xml 파일 위치 대신 AppConfig 위치로 변경해준다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- Processes application requests --&gt;</span>
<span style="color:#f92672">&lt;servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-name&gt;</span>appServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>
    <span style="color:#f92672">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;init-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>contextConfigLocation<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>
            classpath:spring/servlet-context.xml
        <span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/init-param&gt;</span>
    <span style="color:#f92672">&lt;load-on-startup&gt;</span>1<span style="color:#f92672">&lt;/load-on-startup&gt;</span>
<span style="color:#f92672">&lt;/servlet&gt;</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#75715e">&lt;!-- Processes application requests --&gt;</span>
<span style="color:#f92672">&lt;servlet&gt;</span>
    <span style="color:#f92672">&lt;servlet-name&gt;</span>appServlet<span style="color:#f92672">&lt;/servlet-name&gt;</span>
    <span style="color:#f92672">&lt;servlet-class&gt;</span>org.springframework.web.servlet.DispatcherServlet<span style="color:#f92672">&lt;/servlet-class&gt;</span>
    <span style="color:#f92672">&lt;init-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>contextClass<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>
            org.springframework.web.context.support.AnnotationConfigWebApplicationContext
        <span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/init-param&gt;</span>
    <span style="color:#f92672">&lt;init-param&gt;</span>
        <span style="color:#f92672">&lt;param-name&gt;</span>contextConfigLocation<span style="color:#f92672">&lt;/param-name&gt;</span>
        <span style="color:#f92672">&lt;param-value&gt;</span>
            (패키지명)xxx.xxx.xxx.xxx.config.AppConfig
        <span style="color:#f92672">&lt;/param-value&gt;</span>
    <span style="color:#f92672">&lt;/init-param&gt;</span>
    <span style="color:#f92672">&lt;load-on-startup&gt;</span>1<span style="color:#f92672">&lt;/load-on-startup&gt;</span>
<span style="color:#f92672">&lt;/servlet&gt;</span></code></pre></div>
<p>그리고 ContextLoaderListener가 자동으로 생성하는 컨텍스트의 클래스는 기본적으로 <code>XmlWebApplicationContext</code>다. 이를 다른 애플리케이션 컨텍스트 구현 클래스로 변경하고 싶으면 contextClass 파라미터를 이용해 지정해주면 된다.</p>

<p>두번째로 AppConfig 파일에 기존 xml에 있던 설정들을 옮긴다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#f92672">import</span> <span style="color:#111">lombok.extern.slf4j.Slf4j</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.apache.commons.lang.StringUtils</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.beans.BeansException</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.beans.factory.annotation.Qualifier</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.beans.factory.config.YamlProcessor</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.beans.factory.config.YamlPropertiesFactoryBean</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.boot.yaml.SpringProfileDocumentMatcher</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.ApplicationContext</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.ApplicationContextAware</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.EnvironmentAware</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.annotation.Bean</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.annotation.ComponentScan</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.annotation.Configuration</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.annotation.ImportResource</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.context.support.PropertySourcesPlaceholderConfigurer</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.core.env.Environment</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.data.jpa.repository.config.EnableJpaRepositories</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.scheduling.annotation.EnableAsync</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.scheduling.annotation.EnableScheduling</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.transaction.annotation.EnableTransactionManagement</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">org.springframework.web.client.RestTemplate</span><span style="color:#f92672">;</span>

<span style="color:#f92672">import</span> <span style="color:#111">java.io.IOException</span><span style="color:#f92672">;</span>
<span style="color:#f92672">import</span> <span style="color:#111">java.util.Properties</span><span style="color:#f92672">;</span>

<span style="color:#75af00">@Configuration</span>
<span style="color:#75af00">@Slf4j</span>
<span style="color:#75af00">@EnableJpaRepositories</span><span style="color:#f92672">(</span><span style="color:#111">basePackages</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;xxx.xxx.xxx.xxx&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">transactionManagerRef</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;xxxTransactionManager&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@EnableScheduling</span>
<span style="color:#75af00">@EnableAsync</span>
<span style="color:#75af00">@EnableTransactionManagement</span>
<span style="color:#75af00">@ComponentScan</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;xxx.xxx.xxx&#34;</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@ImportResource</span><span style="color:#f92672">({</span><span style="color:#d88200">&#34;classpath:spring/applicationContext-db.xml&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;classpath:spring/applicationContext-jpa.xml&#34;</span><span style="color:#f92672">})</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">AppConfig</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">EnvironmentAware</span><span style="color:#f92672">,</span> <span style="color:#111">ApplicationContextAware</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">ApplicationContext</span> <span style="color:#111">ctx</span><span style="color:#f92672">;</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">Environment</span> <span style="color:#111">env</span><span style="color:#f92672">;</span>

    <span style="color:#75af00">@Bean</span>
    <span style="color:#111">RestTemplate</span> <span style="color:#75af00">getRestTemplate</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">new</span> <span style="color:#111">RestTemplate</span><span style="color:#f92672">();</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Bean</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">YamlProcessor</span><span style="color:#f92672">.</span><span style="color:#75af00">DocumentMatcher</span> <span style="color:#75af00">documentMatcher</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#111">profile</span> <span style="color:#f92672">=</span> <span style="color:#111">getProfile</span><span style="color:#f92672">();</span>
        <span style="color:#111">log</span><span style="color:#f92672">.</span><span style="color:#75af00">info</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;ActiveProfile: {}&#34;</span><span style="color:#f92672">,</span> <span style="color:#f92672">(</span><span style="color:#111">Object</span><span style="color:#f92672">[])</span> <span style="color:#111">profile</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">new</span> <span style="color:#111">SpringProfileDocumentMatcher</span><span style="color:#f92672">(</span><span style="color:#111">profile</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Bean</span><span style="color:#f92672">(</span><span style="color:#111">name</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;yamlProperties&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">YamlPropertiesFactoryBean</span> <span style="color:#75af00">yamlPropertiesFactoryBean</span><span style="color:#f92672">(</span><span style="color:#111">YamlProcessor</span><span style="color:#f92672">.</span><span style="color:#75af00">DocumentMatcher</span> <span style="color:#111">documentMatcher</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">IOException</span> <span style="color:#f92672">{</span>
        <span style="color:#111">YamlPropertiesFactoryBean</span> <span style="color:#111">yamlPropertiesFactoryBean</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">YamlPropertiesFactoryBean</span><span style="color:#f92672">();</span>
        <span style="color:#111">yamlPropertiesFactoryBean</span><span style="color:#f92672">.</span><span style="color:#75af00">setResources</span><span style="color:#f92672">(</span><span style="color:#111">ctx</span><span style="color:#f92672">.</span><span style="color:#75af00">getResources</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;classpath:application.yml&#34;</span><span style="color:#f92672">));</span>
        <span style="color:#111">yamlPropertiesFactoryBean</span><span style="color:#f92672">.</span><span style="color:#75af00">setDocumentMatchers</span><span style="color:#f92672">(</span><span style="color:#111">documentMatcher</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">yamlPropertiesFactoryBean</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Bean</span> 
    <span style="color:#00a8c8">public</span> <span style="color:#111">PropertySourcesPlaceholderConfigurer</span> <span style="color:#75af00">propertySourcesPlaceholderConfigurer</span><span style="color:#f92672">(</span><span style="color:#75af00">@Qualifier</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;yamlProperties&#34;</span><span style="color:#f92672">)</span> <span style="color:#111">Properties</span> <span style="color:#111">yamlProperties</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">PropertySourcesPlaceholderConfigurer</span> <span style="color:#111">p</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">PropertySourcesPlaceholderConfigurer</span><span style="color:#f92672">();</span>
        <span style="color:#111">p</span><span style="color:#f92672">.</span><span style="color:#75af00">setProperties</span><span style="color:#f92672">(</span><span style="color:#111">yamlProperties</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">p</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">setEnvironment</span><span style="color:#f92672">(</span><span style="color:#111">Environment</span> <span style="color:#111">environment</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">env</span> <span style="color:#f92672">=</span> <span style="color:#111">environment</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">setApplicationContext</span><span style="color:#f92672">(</span><span style="color:#111">ApplicationContext</span> <span style="color:#111">applicationContext</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">BeansException</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">ctx</span> <span style="color:#f92672">=</span> <span style="color:#111">applicationContext</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#00a8c8">private</span> <span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#75af00">getProfile</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
        <span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#111">activeProfiles</span> <span style="color:#f92672">=</span> <span style="color:#111">env</span><span style="color:#f92672">.</span><span style="color:#75af00">getActiveProfiles</span><span style="color:#f92672">();</span>
        <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">activeProfiles</span> <span style="color:#f92672">!=</span> <span style="color:#00a8c8">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
            <span style="color:#00a8c8">return</span> <span style="color:#111">activeProfiles</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>

        <span style="color:#111">Properties</span> <span style="color:#111">properties</span> <span style="color:#f92672">=</span> <span style="color:#111">System</span><span style="color:#f92672">.</span><span style="color:#75af00">getProperties</span><span style="color:#f92672">();</span>
        <span style="color:#111">String</span> <span style="color:#111">profileActive</span> <span style="color:#f92672">=</span> <span style="color:#111">properties</span><span style="color:#f92672">.</span><span style="color:#75af00">getProperty</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;spring.profiles.active&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">new</span> <span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#f92672">{</span> <span style="color:#111">StringUtils</span><span style="color:#f92672">.</span><span style="color:#75af00">defaultString</span><span style="color:#f92672">(</span><span style="color:#111">profileActive</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;dev&#34;</span><span style="color:#f92672">)</span> <span style="color:#f92672">};</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h2 id="9-mybatis-db-언더바-사용된-컬럼과-자바-카멜케이스-변수-자동-매핑">9. Mybatis db 언더바 사용된 컬럼과 자바 카멜케이스 변수 자동 매핑</h2>

<p>방법1 : application.yml</p>

<pre><code>mybatis:
  mapper-locations: classpath:mybatis/mapper/*.xml
  configuration:
    map-underscore-to-camel-case: true
</code></pre>

<p>방법2 : mybatis-config.xml</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;settings&gt;</span>
    <span style="color:#f92672">&lt;setting</span> <span style="color:#75af00">name=</span><span style="color:#d88200">&#34;mapUnderscoreToCamelCase&#34;</span> <span style="color:#75af00">value=</span><span style="color:#d88200">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/settings&gt;</span></code></pre></div>
<p>cf) 다른 설정정보 참고 : <a href="http://www.mybatis.org/mybatis-3/ko/configuration.html">http://www.mybatis.org/mybatis-3/ko/configuration.html</a></p>

<h2 id="10-requestparam값이-optional일때-defaultvalue-적용">10. @RequestParam값이 Optional일때 DefaultValue 적용</h2>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RequestParam</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;bongsoo&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">required</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">false</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">int</span> <span style="color:#111">bongsoo</span></code></pre></div>
<p>int형이기 때문에 값이 없을때 null일 수 없다. 그래서 defaultValue를 미리 지정해주는게 좋다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RequestParam</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;bongsoo&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">required</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">false</span><span style="color:#f92672">,</span> <span style="color:#111">defaultValue</span><span style="color:#f92672">=</span><span style="color:#d88200">&#34;0&#34;</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">int</span> <span style="color:#111">bongsoo</span></code></pre></div>
<h2 id="11-세션-스코프-빈-사용">11. 세션 스코프 빈 사용</h2>

<p>컨트롤러에서 세션 스코프 빈을 사용할 일이 있었고, 컨트롤러는 싱글톤 빈이기 때문에 일반적으로 DI방식을 이용해 주입해서는 방법이 없다. DL 방식을 이용하는 방법도 있지만 애플리케이션 로직에 스프링 코드가 들어간다는 단점이 있다.</p>

<p>그래서 프록시 DI 방식을 택했다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Scope</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;session&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">proxyMode</span> <span style="color:#f92672">=</span> <span style="color:#111">ScopedProxyMode</span><span style="color:#f92672">.</span><span style="color:#75af00">TARGET_CLASS</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@Component</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Work</span> <span style="color:#f92672">{</span>
  <span style="color:#f92672">...</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>@Scope 애노테이션으로 스코프를 지정했다면 proxyMode 엘리먼트를 이용해서 프록시를 이용한 DI가 되도록 지정할 수 있다. 클라이언트(여기선 컨트롤러 클래스)는 스코프 프록시 오브젝트를 실제 스코프 빈처럼 사용하면 프록시에서 현재 스코프에 맞는 실제 빈 오브젝트로 작업을 위임해준다.</p>

<p>스코프 프록시는 각 요청에 연결된 HTTP 세션정보를 참고해서 사용자마다 다른 Work 오브젝트를 사용하게 해준다. 클라이언트인 컨트롤러 입장에서는 모두 같은 오브젝트를 사용하는 것처럼 보이지만, 실제로는 그 뒤에 사용자별로 만들어진 여러 개의 Work가 존재하고, 스코프 프록시는 실제 Work 오브젝트로 클라이언트의 호출을 위임해주는 역할을 해줄 뿐이다.</p>

<p>프록시 빈이 인터페이스를 구현하고 있고, 클라이언트에서 인터페이스로 DI 받는다면 proxyMode를 ScopedProxyMode.INTERFACES로 지정해주고, 프록시 빈 클래스를 직접 DI 한다면 ScopedProxyMode.TARGET_CLASS로 지정하면 된다(여기서는 Work 클래스로 직접 DI 할 것이므로 ScopedProxyMode.TARGET_CLASS).</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#111">스코프</span> <span style="color:#111">프록시의</span> <span style="color:#111">DI</span> <span style="color:#111">사용</span>

<span style="color:#75af00">@Controller</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#111">MainController</span> <span style="color:#f92672">{</span>

  <span style="color:#75af00">@Autowired</span>
  <span style="color:#111">Work</span> <span style="color:#111">work</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>cf) XML 설정방식</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;bean</span> <span style="color:#75af00">id=</span><span style="color:#d88200">&#34;work&#34;</span> <span style="color:#75af00">class=</span><span style="color:#d88200">&#34;...Work&#34;</span> <span style="color:#75af00">scope=</span><span style="color:#d88200">&#34;session&#34;</span><span style="color:#f92672">&gt;</span>
  <span style="color:#f92672">&lt;aop:scoped-proxy</span> <span style="color:#75af00">proxy-target-class=</span><span style="color:#d88200">&#34;true&#34;</span><span style="color:#f92672">/&gt;</span>
<span style="color:#f92672">&lt;/bean&gt;</span></code></pre></div>
<p>DI 받을 때 클래스를 이용한다면 proxy-target-class를 true로 설정하고, 인터페이스를 이용한다면 false로 하거나 아예 생략하면 된다.</p>

<h2 id="12-spring-boot-war-배포로-변경하기">12. Spring Boot war 배포로 변경하기</h2>

<ol>
<li>pom.xml
<code>xml
변경 전 : &lt;packaging&gt;jar&lt;/packaging&gt;
변경 후 : &lt;packaging&gt;war&lt;/packaging&gt;
</code></li>
<li>configuration</li>
</ol>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#75af00">@SpringBootApplication</span>
   <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Application</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">WebMvcConfigurerAdapter</span> <span style="color:#f92672">{</span>
      <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">static</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">main</span><span style="color:#f92672">(</span><span style="color:#111">String</span><span style="color:#f92672">[]</span> <span style="color:#111">args</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
          <span style="color:#111">SpringApplication</span><span style="color:#f92672">.</span><span style="color:#75af00">run</span><span style="color:#f92672">(</span><span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">,</span> <span style="color:#111">args</span><span style="color:#f92672">);</span>
        <span style="color:#f92672">}</span>

    <span style="color:#f92672">...</span>
   <span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">   <span style="color:#75af00">@Configuration</span>
   <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">AppConfig</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">SpringBootServletInitializer</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">protected</span> <span style="color:#111">SpringApplicationBuilder</span> <span style="color:#75af00">configure</span><span style="color:#f92672">(</span><span style="color:#111">SpringApplicationBuilder</span> <span style="color:#111">application</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">application</span><span style="color:#f92672">.</span><span style="color:#75af00">sources</span><span style="color:#f92672">(</span><span style="color:#111">Application</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
   <span style="color:#f92672">}</span></code></pre></div>
<h2 id="13-spring-boot-cors-처리">13. Spring Boot CORS 처리</h2>

<p>대부분의 웹 브라우저는 보안상의 이유로 다른 도메인의 URL을 호출해서 데이터를 가져오는 것을 금지하고 있다. 우리 웹 서비스에서만 사용하기 위해 다른 서브 도메인을 가진 API 서버를 구축했는데, 다른 웹 서비스에서 마음대로 접근해서 사용하면 문제가 되기 때문이다.</p>

<p>그런데 하나의 도메인을 가진 웹 서버에서 모든 처리를 하기에는 효율성이나 성능 등 여러 문제로 각 기능별로 여러 서버를 두는 경우가 많다(API 서버, WAS 서버, 파일 서버 등등). 물리적으로 분리된 서버이고, 다른 용도로 구축된 서버이니 당연히 각각 다른 도메인을 가진 서버들일 텐데, 서로간에 Ajax 통신을 할 수 없는 것일까? 즉 서로 다른 도메인 간의 호출을 의미하는 크로스 도메인 문제를 해결할 수는 없는 것일까?</p>

<p>CORS(Cross Origin Resource Sharing)은 외부 도메인에서의 요청(접근)을 허용해주는 메커니즘이다.</p>

<p>원문 : <a href="http://ooz.co.kr/232">http://ooz.co.kr/232</a></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">CORSFilter</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">OncePerRequestFilter</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">protected</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">doFilterInternal</span><span style="color:#f92672">(</span><span style="color:#111">HttpServletRequest</span> <span style="color:#111">request</span><span style="color:#f92672">,</span> <span style="color:#111">HttpServletResponse</span> <span style="color:#111">response</span><span style="color:#f92672">,</span> <span style="color:#111">FilterChain</span> <span style="color:#111">filterChain</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">ServletException</span><span style="color:#f92672">,</span> <span style="color:#111">IOException</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// 모든 도메인에 대해 허용하겠다는 의미
</span><span style="color:#75715e"></span>        <span style="color:#111">response</span><span style="color:#f92672">.</span><span style="color:#75af00">addHeader</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Access-Control-Allow-Origin&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;*&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">response</span><span style="color:#f92672">.</span><span style="color:#75af00">addHeader</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Access-Control-Allow-Methods&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;GET, POST, PUT, DELETE&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">response</span><span style="color:#f92672">.</span><span style="color:#75af00">addHeader</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Access-Control-Allow-Headers&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;content-type, accept, api_id, api_key&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">response</span><span style="color:#f92672">.</span><span style="color:#75af00">addHeader</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;Access-Control-Max-Age&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;1800&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">filterChain</span><span style="color:#f92672">.</span><span style="color:#75af00">doFilter</span><span style="color:#f92672">(</span><span style="color:#111">request</span><span style="color:#f92672">,</span> <span style="color:#111">response</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>위와 같이 필터 클래스를 만들고</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java">    <span style="color:#75af00">@Bean</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">FilterRegistrationBean</span> <span style="color:#75af00">registration</span><span style="color:#f92672">(){</span>
        <span style="color:#111">FilterRegistrationBean</span> <span style="color:#111">register</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">FilterRegistrationBean</span><span style="color:#f92672">();</span>
        <span style="color:#111">CORSFilter</span> <span style="color:#111">corsFilter</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">CORSFilter</span><span style="color:#f92672">();</span>
        <span style="color:#111">register</span><span style="color:#f92672">.</span><span style="color:#75af00">setFilter</span><span style="color:#f92672">(</span><span style="color:#111">corsFilter</span><span style="color:#f92672">);</span>
        <span style="color:#111">register</span><span style="color:#f92672">.</span><span style="color:#75af00">setEnabled</span><span style="color:#f92672">(</span><span style="color:#00a8c8">true</span><span style="color:#f92672">);</span>
        <span style="color:#111">register</span><span style="color:#f92672">.</span><span style="color:#75af00">setUrlPatterns</span><span style="color:#f92672">(</span><span style="color:#111">Collections</span><span style="color:#f92672">.</span><span style="color:#75af00">singletonList</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/*&#34;</span><span style="color:#f92672">));</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">register</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span></code></pre></div>
<p>빈으로 등록만 해주면 url 패턴에 따라 필터가 작동된다.</p>

<h3 id="cors-support-in-spring-framework">CORS support in Spring Framework</h3>

<p><a href="http://spring.io/blog/2015/06/08/cors-support-in-spring-framework">http://spring.io/blog/2015/06/08/cors-support-in-spring-framework</a></p>

<p>@CrossOrigin 애노테이션을 추가해줌으로써 CORS를 가능하게 해준다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RestController</span>
<span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/account&#34;</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">AccountController</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@CrossOrigin</span>
    <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">Account</span> <span style="color:#75af00">retrieve</span><span style="color:#f92672">(</span><span style="color:#75af00">@PathVariable</span> <span style="color:#111">Long</span> <span style="color:#111">id</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">method</span> <span style="color:#f92672">=</span> <span style="color:#111">RequestMethod</span><span style="color:#f92672">.</span><span style="color:#75af00">DELETE</span><span style="color:#f92672">,</span> <span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">remove</span><span style="color:#f92672">(</span><span style="color:#75af00">@PathVariable</span> <span style="color:#111">Long</span> <span style="color:#111">id</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>컨트롤러 전체에 적용도 가능하다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@CrossOrigin</span><span style="color:#f92672">(</span><span style="color:#111">origins</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;http://domain2.com&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">maxAge</span> <span style="color:#f92672">=</span> <span style="color:#111">3600</span><span style="color:#f92672">)</span>
<span style="color:#75af00">@RestController</span>
<span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/account&#34;</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">AccountController</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">Account</span> <span style="color:#75af00">retrieve</span><span style="color:#f92672">(</span><span style="color:#75af00">@PathVariable</span> <span style="color:#111">Long</span> <span style="color:#111">id</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">method</span> <span style="color:#f92672">=</span> <span style="color:#111">RequestMethod</span><span style="color:#f92672">.</span><span style="color:#75af00">DELETE</span><span style="color:#f92672">,</span> <span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/{id}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">remove</span><span style="color:#f92672">(</span><span style="color:#75af00">@PathVariable</span> <span style="color:#111">Long</span> <span style="color:#111">id</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">// ...
</span><span style="color:#75715e"></span>    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><strong>Java Config</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Configuration</span>
<span style="color:#75af00">@EnableWebMvc</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">WebConfig</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">WebMvcConfigurerAdapter</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">addCorsMappings</span><span style="color:#f92672">(</span><span style="color:#111">CorsRegistry</span> <span style="color:#111">registry</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">registry</span><span style="color:#f92672">.</span><span style="color:#75af00">addMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/api/**&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#75af00">allowedOrigins</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;http://domain2.com&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#75af00">allowedMethods</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;PUT&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;DELETE&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#75af00">allowedHeaders</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;header1&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;header2&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;header3&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#75af00">exposedHeaders</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;header1&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;header2&#34;</span><span style="color:#f92672">)</span>
            <span style="color:#f92672">.</span><span style="color:#75af00">allowCredentials</span><span style="color:#f92672">(</span><span style="color:#00a8c8">false</span><span style="color:#f92672">).</span><span style="color:#75af00">maxAge</span><span style="color:#f92672">(</span><span style="color:#111">3600</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><strong>XML namespace</strong></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;mvc:cors&gt;</span>

    <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#75af00">path=</span><span style="color:#d88200">&#34;/api/**&#34;</span>
        <span style="color:#75af00">allowed-origins=</span><span style="color:#d88200">&#34;http://domain1.com, http://domain2.com&#34;</span>
        <span style="color:#75af00">allowed-methods=</span><span style="color:#d88200">&#34;GET, PUT&#34;</span>
        <span style="color:#75af00">allowed-headers=</span><span style="color:#d88200">&#34;header1, header2, header3&#34;</span>
        <span style="color:#75af00">exposed-headers=</span><span style="color:#d88200">&#34;header1, header2&#34;</span> <span style="color:#75af00">allow-credentials=</span><span style="color:#d88200">&#34;false&#34;</span>
        <span style="color:#75af00">max-age=</span><span style="color:#d88200">&#34;123&#34;</span> <span style="color:#f92672">/&gt;</span>

    <span style="color:#f92672">&lt;mvc:mapping</span> <span style="color:#75af00">path=</span><span style="color:#d88200">&#34;/resources/**&#34;</span>
        <span style="color:#75af00">allowed-origins=</span><span style="color:#d88200">&#34;http://domain1.com&#34;</span> <span style="color:#f92672">/&gt;</span>

<span style="color:#f92672">&lt;/mvc:cors&gt;</span></code></pre></div>
<h2 id="14-jsoninclude-pattern">14. @JsonInclude @Pattern</h2>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Data</span>
<span style="color:#75af00">@JsonInclude</span><span style="color:#f92672">(</span><span style="color:#111">JsonInclude</span><span style="color:#f92672">.</span><span style="color:#75af00">Include</span><span style="color:#f92672">.</span><span style="color:#75af00">NON_NULL</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">User</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">Long</span> <span style="color:#111">id</span><span style="color:#f92672">;</span>

    <span style="color:#75af00">@NotEmpty</span>
    <span style="color:#75af00">@Pattern</span><span style="color:#f92672">(</span><span style="color:#111">regexp</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;[a-zA-Z\\d._-]{6,100}&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">name</span><span style="color:#f92672">;</span>

    <span style="color:#75af00">@NotEmpty</span>
    <span style="color:#75af00">@Length</span><span style="color:#f92672">(</span><span style="color:#111">min</span> <span style="color:#f92672">=</span> <span style="color:#111">6</span><span style="color:#f92672">,</span> <span style="color:#111">max</span> <span style="color:#f92672">=</span> <span style="color:#111">100</span><span style="color:#f92672">)</span>
    <span style="color:#75af00">@Pattern</span><span style="color:#f92672">(</span><span style="color:#111">regexp</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;^[a-zA-Z\\d.-_]+@[a-zA-Z\\d-]+(.[a-z]+)+$&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">email</span><span style="color:#f92672">;</span>

    <span style="color:#75af00">@NotEmpty</span>
    <span style="color:#75af00">@Length</span><span style="color:#f92672">(</span><span style="color:#111">min</span> <span style="color:#f92672">=</span> <span style="color:#111">6</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">password</span><span style="color:#f92672">;</span>

    <span style="color:#00a8c8">private</span> <span style="color:#111">Date</span> <span style="color:#111">regDt</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><code>@JsonInclude(JsonInclude.Include.NON_NULL)</code> 객체를 Json으로 변환할 때, null값 필드는 아예 Json으로 매핑 안되게 해주는 설정이다.</p>

<h2 id="15-swagger를-조회하는-url-바꾸고-싶을-때">15. Swagger를 조회하는 URL 바꾸고 싶을 때</h2>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Controller</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">ApiDocController</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@GetMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/swagger-ui&#34;</span><span style="color:#f92672">)</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">apiDocs</span> <span style="color:#f92672">(</span><span style="color:#111">OutputStream</span> <span style="color:#111">response</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">IOException</span> <span style="color:#f92672">{</span>
        <span style="color:#111">InputStream</span> <span style="color:#111">source</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">ClassPathResource</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/META-INF/resources/swagger-ui.html&#34;</span><span style="color:#f92672">).</span><span style="color:#75af00">getInputStream</span><span style="color:#f92672">();</span>
        <span style="color:#111">StreamUtils</span><span style="color:#f92672">.</span><span style="color:#75af00">copy</span><span style="color:#f92672">(</span><span style="color:#111">source</span><span style="color:#f92672">,</span> <span style="color:#111">response</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h2 id="16-webapplicationinitializer를-이용한-컨텍스트-등록">16. WebApplicationInitializer를 이용한 컨텍스트 등록</h2>

<p>서블릿 3.0 이상부터 사용 가능하다. web.xml 파일만을 단독으로 사용하던 것에서 탈피해, 설정 방식을 모듈화해서 관리하는 방법을 도입했다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Order</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#111">1</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">WebAppIntializer</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">WebApplicationInitializer</span> <span style="color:#f92672">{</span>
    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">onStartup</span><span style="color:#f92672">(</span><span style="color:#111">ServletContext</span> <span style="color:#111">servletContext</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">ServletException</span> <span style="color:#f92672">{</span>
        <span style="color:#75715e">//parent
</span><span style="color:#75715e"></span>        <span style="color:#111">AnnotationConfigWebApplicationContext</span> <span style="color:#111">rootContext</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">AnnotationConfigWebApplicationContext</span><span style="color:#f92672">();</span>
        <span style="color:#111">rootContext</span><span style="color:#f92672">.</span><span style="color:#75af00">register</span><span style="color:#f92672">(</span><span style="color:#111">AppConfig</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>

        <span style="color:#111">servletContext</span><span style="color:#f92672">.</span><span style="color:#75af00">addListener</span><span style="color:#f92672">(</span><span style="color:#00a8c8">new</span> <span style="color:#111">ContextLoaderListener</span><span style="color:#f92672">(</span><span style="color:#111">rootContext</span><span style="color:#f92672">));</span>
<span style="color:#75715e">//        new ContextLoader(rootContext).initWebApplicationContext(servletContext);
</span><span style="color:#75715e"></span>
        <span style="color:#75715e">//child
</span><span style="color:#75715e"></span>        <span style="color:#111">AnnotationConfigWebApplicationContext</span> <span style="color:#111">dispatcherServletContext</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">AnnotationConfigWebApplicationContext</span><span style="color:#f92672">();</span>
        <span style="color:#111">dispatcherServletContext</span><span style="color:#f92672">.</span><span style="color:#75af00">register</span><span style="color:#f92672">(</span><span style="color:#111">WebConfig</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>

        <span style="color:#111">ServletRegistration</span><span style="color:#f92672">.</span><span style="color:#75af00">Dynamic</span> <span style="color:#111">dispatcher</span> <span style="color:#f92672">=</span> <span style="color:#111">servletContext</span><span style="color:#f92672">.</span><span style="color:#75af00">addServlet</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;dispatcher&#34;</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">new</span> <span style="color:#111">DispatcherServlet</span><span style="color:#f92672">(</span><span style="color:#111">dispatcherServletContext</span><span style="color:#f92672">));</span>
        <span style="color:#111">dispatcher</span><span style="color:#f92672">.</span><span style="color:#75af00">setLoadOnStartup</span><span style="color:#f92672">(</span><span style="color:#111">1</span><span style="color:#f92672">);</span>
        <span style="color:#111">dispatcher</span><span style="color:#f92672">.</span><span style="color:#75af00">addMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/&#34;</span><span style="color:#f92672">);</span>

        <span style="color:#75715e">//Encoding Filter 등록
</span><span style="color:#75715e"></span>        <span style="color:#111">FilterRegistration</span><span style="color:#f92672">.</span><span style="color:#75af00">Dynamic</span> <span style="color:#111">encodingFilter</span> <span style="color:#f92672">=</span> <span style="color:#111">servletContext</span><span style="color:#f92672">.</span><span style="color:#75af00">addFilter</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;CharacterEncodingFilter&#34;</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">new</span> <span style="color:#111">CharacterEncodingFilter</span><span style="color:#f92672">());</span>
        <span style="color:#111">encodingFilter</span><span style="color:#f92672">.</span><span style="color:#75af00">setInitParameter</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;encoding&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;UTF-8&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">encodingFilter</span><span style="color:#f92672">.</span><span style="color:#75af00">setInitParameter</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;forceEncoding&#34;</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;true&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">encodingFilter</span><span style="color:#f92672">.</span><span style="color:#75af00">addMappingForUrlPatterns</span><span style="color:#f92672">(</span><span style="color:#00a8c8">null</span><span style="color:#f92672">,</span> <span style="color:#00a8c8">true</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;/*&#34;</span><span style="color:#f92672">);</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;plugin&gt;</span>
  <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>maven-war-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;configuration&gt;</span>
   <span style="color:#f92672">&lt;webappDirectory&gt;</span>deploy<span style="color:#f92672">&lt;/webappDirectory&gt;</span>
   <span style="color:#f92672">&lt;failOnMissingWebXml&gt;</span>false<span style="color:#f92672">&lt;/failOnMissingWebXml&gt;</span>
  <span style="color:#f92672">&lt;/configuration&gt;</span>
<span style="color:#f92672">&lt;/plugin&gt;</span></code></pre></div>
<h3 id="17-maven-clean-plugin">17. maven-clean-plugin</h3>

<p>mvn clean을 수행하면 기본적으로 target 디렉토리 밑에 있는 내용을 삭제한다. 그런데 target 디렉토리 외에 다른 디렉토리도 지우고 싶다면, pom.xml에 직접 설정할 수도 있다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml"><span style="color:#f92672">&lt;plugin&gt;</span>
  <span style="color:#f92672">&lt;artifactId&gt;</span>maven-clean-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
  <span style="color:#f92672">&lt;version&gt;</span>2.5<span style="color:#f92672">&lt;/version&gt;</span>
  <span style="color:#f92672">&lt;configuration&gt;</span>
    <span style="color:#f92672">&lt;filesets&gt;</span>
      <span style="color:#f92672">&lt;fileset&gt;</span>
        <span style="color:#f92672">&lt;directory&gt;</span>deploy/WEB-INF/lib<span style="color:#f92672">&lt;/directory&gt;</span>
      <span style="color:#f92672">&lt;/fileset&gt;</span>
      <span style="color:#f92672">&lt;fileset&gt;</span>
        <span style="color:#f92672">&lt;directory&gt;</span>deploy/WEB-INF/classes<span style="color:#f92672">&lt;/directory&gt;</span>
      <span style="color:#f92672">&lt;/fileset&gt;</span>
    <span style="color:#f92672">&lt;/filesets&gt;</span>
  <span style="color:#f92672">&lt;/configuration&gt;</span>
<span style="color:#f92672">&lt;/plugin&gt;</span></code></pre></div>
<h3 id="18-maven-profiles">18. maven profiles</h3>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">    <span style="color:#f92672">&lt;properties&gt;</span>
        <span style="color:#f92672">&lt;java-version&gt;</span>1.8<span style="color:#f92672">&lt;/java-version&gt;</span>
        <span style="color:#f92672">&lt;env&gt;</span>local<span style="color:#f92672">&lt;/env&gt;</span>
    <span style="color:#f92672">&lt;/properties&gt;</span>

    ...


    <span style="color:#f92672">&lt;profiles&gt;</span>
        <span style="color:#f92672">&lt;profile&gt;</span>
            <span style="color:#f92672">&lt;id&gt;</span>local<span style="color:#f92672">&lt;/id&gt;</span>
            <span style="color:#f92672">&lt;properties&gt;</span>
                <span style="color:#f92672">&lt;env&gt;</span>local<span style="color:#f92672">&lt;/env&gt;</span>
            <span style="color:#f92672">&lt;/properties&gt;</span>
        <span style="color:#f92672">&lt;/profile&gt;</span>
        <span style="color:#f92672">&lt;profile&gt;</span>
            <span style="color:#f92672">&lt;id&gt;</span>dev<span style="color:#f92672">&lt;/id&gt;</span>
            <span style="color:#f92672">&lt;properties&gt;</span>
                <span style="color:#f92672">&lt;env&gt;</span>dev<span style="color:#f92672">&lt;/env&gt;</span>
            <span style="color:#f92672">&lt;/properties&gt;</span>
        <span style="color:#f92672">&lt;/profile&gt;</span>
    <span style="color:#f92672">&lt;/profiles&gt;</span>

    <span style="color:#f92672">&lt;build&gt;</span>
        <span style="color:#f92672">&lt;resources&gt;</span>
            <span style="color:#f92672">&lt;resource&gt;</span>
                <span style="color:#f92672">&lt;directory&gt;</span>src/main/resources<span style="color:#f92672">&lt;/directory&gt;</span>
            <span style="color:#f92672">&lt;/resource&gt;</span>
            <span style="color:#f92672">&lt;resource&gt;</span>
                <span style="color:#f92672">&lt;directory&gt;</span>src/main/resources-${env}<span style="color:#f92672">&lt;/directory&gt;</span>
            <span style="color:#f92672">&lt;/resource&gt;</span>
        <span style="color:#f92672">&lt;/resources&gt;</span>

        <span style="color:#f92672">&lt;plugins&gt;</span>
            <span style="color:#f92672">&lt;plugin&gt;</span>
                <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
                <span style="color:#f92672">&lt;artifactId&gt;</span>maven-compiler-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
                <span style="color:#f92672">&lt;version&gt;</span>3.6.0<span style="color:#f92672">&lt;/version&gt;</span>
                <span style="color:#f92672">&lt;configuration&gt;</span>
                    <span style="color:#f92672">&lt;source&gt;</span>${java-version}<span style="color:#f92672">&lt;/source&gt;</span>
                    <span style="color:#f92672">&lt;target&gt;</span>${java-version}<span style="color:#f92672">&lt;/target&gt;</span>
                <span style="color:#f92672">&lt;/configuration&gt;</span>
            <span style="color:#f92672">&lt;/plugin&gt;</span>

            <span style="color:#f92672">&lt;plugin&gt;</span>
                <span style="color:#f92672">&lt;groupId&gt;</span>org.apache.maven.plugins<span style="color:#f92672">&lt;/groupId&gt;</span>
                <span style="color:#f92672">&lt;artifactId&gt;</span>maven-war-plugin<span style="color:#f92672">&lt;/artifactId&gt;</span>
                <span style="color:#f92672">&lt;configuration&gt;</span>
                    <span style="color:#f92672">&lt;webappDirectory&gt;</span>target/deploy<span style="color:#f92672">&lt;/webappDirectory&gt;</span>
                <span style="color:#f92672">&lt;/configuration&gt;</span>
            <span style="color:#f92672">&lt;/plugin&gt;</span>
        <span style="color:#f92672">&lt;/plugins&gt;</span>
    <span style="color:#f92672">&lt;/build&gt;</span></code></pre></div>
<h3 id="19-handlermethodargumentresolver를-이용한-사용자-검증">19. HandlerMethodArgumentResolver를 이용한 사용자 검증</h3>

<p>HandlerMethodArgumentResolver 인터페이스를 구현하여 컨트롤러의 메서드 파라미터를 검증, 수정 할 수 있다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">/**
</span><span style="color:#75715e"> * Strategy interface for resolving method parameters into argument values in
</span><span style="color:#75715e"> * the context of a given request.
</span><span style="color:#75715e"> *
</span><span style="color:#75715e"> * @author Arjen Poutsma
</span><span style="color:#75715e"> * @since 3.1
</span><span style="color:#75715e"> * @see HandlerMethodReturnValueHandler
</span><span style="color:#75715e"> */</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">interface</span> <span style="color:#75af00">HandlerMethodArgumentResolver</span> <span style="color:#f92672">{</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Whether the given {@linkplain MethodParameter method parameter} is
</span><span style="color:#75715e">     * supported by this resolver.
</span><span style="color:#75715e">     * @param parameter the method parameter to check
</span><span style="color:#75715e">     * @return {@code true} if this resolver supports the supplied parameter;
</span><span style="color:#75715e">     * {@code false} otherwise
</span><span style="color:#75715e">     */</span>
    <span style="color:#00a8c8">boolean</span> <span style="color:#75af00">supportsParameter</span><span style="color:#f92672">(</span><span style="color:#111">MethodParameter</span> <span style="color:#111">parameter</span><span style="color:#f92672">);</span>

    <span style="color:#75715e">/**
</span><span style="color:#75715e">     * Resolves a method parameter into an argument value from a given request.
</span><span style="color:#75715e">     * A {@link ModelAndViewContainer} provides access to the model for the
</span><span style="color:#75715e">     * request. A {@link WebDataBinderFactory} provides a way to create
</span><span style="color:#75715e">     * a {@link WebDataBinder} instance when needed for data binding and
</span><span style="color:#75715e">     * type conversion purposes.
</span><span style="color:#75715e">     * @param parameter the method parameter to resolve. This parameter must
</span><span style="color:#75715e">     * have previously been passed to {@link #supportsParameter} which must
</span><span style="color:#75715e">     * have returned {@code true}.
</span><span style="color:#75715e">     * @param mavContainer the ModelAndViewContainer for the current request
</span><span style="color:#75715e">     * @param webRequest the current request
</span><span style="color:#75715e">     * @param binderFactory a factory for creating {@link WebDataBinder} instances
</span><span style="color:#75715e">     * @return the resolved argument value, or {@code null}
</span><span style="color:#75715e">     * @throws Exception in case of errors with the preparation of argument values
</span><span style="color:#75715e">     */</span>
    <span style="color:#111">Object</span> <span style="color:#75af00">resolveArgument</span><span style="color:#f92672">(</span><span style="color:#111">MethodParameter</span> <span style="color:#111">parameter</span><span style="color:#f92672">,</span> <span style="color:#111">ModelAndViewContainer</span> <span style="color:#111">mavContainer</span><span style="color:#f92672">,</span>
            <span style="color:#111">NativeWebRequest</span> <span style="color:#111">webRequest</span><span style="color:#f92672">,</span> <span style="color:#111">WebDataBinderFactory</span> <span style="color:#111">binderFactory</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">Exception</span><span style="color:#f92672">;</span>

<span style="color:#f92672">}</span></code></pre></div>
<p>쿠키로 인증 구현 예</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">CookieHandlerMethodArgumentResolver</span> <span style="color:#00a8c8">implements</span> <span style="color:#111">HandlerMethodArgumentResolver</span> <span style="color:#f92672">{</span>

    <span style="color:#00a8c8">private</span> <span style="color:#111">XxxService</span> <span style="color:#111">xxxService</span><span style="color:#f92672">;</span>

    <span style="color:#00a8c8">public</span> <span style="color:#75af00">CookieHandlerMethodArgumentResolver</span><span style="color:#f92672">(</span><span style="color:#111">XxxService</span> <span style="color:#111">xxxService</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">this</span><span style="color:#f92672">.</span><span style="color:#75af00">xxxService</span> <span style="color:#f92672">=</span> <span style="color:#111">xxxService</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">boolean</span> <span style="color:#75af00">supportsParameter</span><span style="color:#f92672">(</span><span style="color:#111">MethodParameter</span> <span style="color:#111">methodParameter</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">methodParameter</span><span style="color:#f92672">.</span><span style="color:#75af00">hasParameterAnnotation</span><span style="color:#f92672">(</span><span style="color:#111">Authentication</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
                <span style="color:#f92672">&amp;&amp;</span> <span style="color:#111">methodParameter</span><span style="color:#f92672">.</span><span style="color:#75af00">getParameterType</span><span style="color:#f92672">().</span><span style="color:#75af00">equals</span><span style="color:#f92672">(</span><span style="color:#111">User</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">Object</span> <span style="color:#75af00">resolveArgument</span><span style="color:#f92672">(</span><span style="color:#111">MethodParameter</span> <span style="color:#111">methodParameter</span><span style="color:#f92672">,</span>
                                  <span style="color:#111">ModelAndViewContainer</span> <span style="color:#111">modelAndViewContainer</span><span style="color:#f92672">,</span>
                                  <span style="color:#111">NativeWebRequest</span> <span style="color:#111">nativeWebRequest</span><span style="color:#f92672">,</span>
                                  <span style="color:#111">WebDataBinderFactory</span> <span style="color:#111">webDataBinderFactory</span><span style="color:#f92672">)</span> <span style="color:#00a8c8">throws</span> <span style="color:#111">Exception</span> <span style="color:#f92672">{</span>

        <span style="color:#111">HttpServletRequest</span> <span style="color:#111">servletRequest</span> <span style="color:#f92672">=</span> <span style="color:#111">nativeWebRequest</span><span style="color:#f92672">.</span><span style="color:#75af00">getNativeRequest</span><span style="color:#f92672">(</span><span style="color:#111">HttpServletRequest</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">);</span>
        <span style="color:#111">javax</span><span style="color:#f92672">.</span><span style="color:#75af00">servlet</span><span style="color:#f92672">.</span><span style="color:#75af00">http</span><span style="color:#f92672">.</span><span style="color:#75af00">Cookie</span> <span style="color:#111">cookie</span> <span style="color:#f92672">=</span> <span style="color:#111">WebUtils</span><span style="color:#f92672">.</span><span style="color:#75af00">getCookie</span><span style="color:#f92672">(</span><span style="color:#111">servletRequest</span><span style="color:#f92672">,</span> <span style="color:#d88200">&#34;loginCookie&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">StringUtils</span><span style="color:#f92672">.</span><span style="color:#75af00">isNotEmpty</span><span style="color:#f92672">(</span><span style="color:#111">cookie</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
            <span style="color:#111">String</span> <span style="color:#111">EncryptVal</span> <span style="color:#f92672">=</span> <span style="color:#111">cookie</span><span style="color:#f92672">.</span><span style="color:#75af00">getValue</span><span style="color:#f92672">();</span>
            <span style="color:#111">String</span> <span style="color:#111">userId</span> <span style="color:#f92672">=</span> <span style="color:#111">JavaEnCrypto</span><span style="color:#f92672">.</span><span style="color:#75af00">Decrypt</span><span style="color:#f92672">(</span><span style="color:#111">EncryptVal</span><span style="color:#f92672">);</span>
            <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">isVaild</span><span style="color:#f92672">(</span><span style="color:#111">userId</span><span style="color:#f92672">))</span> <span style="color:#f92672">{</span>
                <span style="color:#111">User</span> <span style="color:#111">user</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">User</span><span style="color:#f92672">();</span>
                <span style="color:#111">user</span><span style="color:#f92672">.</span><span style="color:#75af00">setUserName</span><span style="color:#f92672">(</span><span style="color:#111">userId</span><span style="color:#f92672">);</span>
                <span style="color:#00a8c8">return</span> <span style="color:#111">user</span><span style="color:#f92672">;</span>
            <span style="color:#f92672">}</span>
        <span style="color:#f92672">}</span>
        <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">null</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>

    <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">boolean</span> <span style="color:#75af00">isVaild</span><span style="color:#f92672">(</span><span style="color:#111">String</span> <span style="color:#111">userId</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">xxxService</span><span style="color:#f92672">.</span><span style="color:#75af00">checkEmail</span><span style="color:#f92672">(</span><span style="color:#111">userId</span><span style="color:#f92672">).</span><span style="color:#75af00">isDuplicated</span><span style="color:#f92672">()){</span>
            <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">true</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
        <span style="color:#00a8c8">else</span> <span style="color:#f92672">{</span>
            <span style="color:#00a8c8">return</span> <span style="color:#00a8c8">false</span><span style="color:#f92672">;</span>
        <span style="color:#f92672">}</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>설정은 다음과 같이 한다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//boot config
</span><span style="color:#75715e"></span><span style="color:#75af00">@SpringBootApplication</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Application</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">WebMvcConfigurerAdapter</span> <span style="color:#f92672">{</span>

    <span style="color:#75af00">@Override</span>
    <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">void</span> <span style="color:#75af00">addArgumentResolvers</span><span style="color:#f92672">(</span><span style="color:#111">List</span><span style="color:#f92672">&lt;</span><span style="color:#111">HandlerMethodArgumentResolver</span><span style="color:#f92672">&gt;</span> <span style="color:#111">argumentResolvers</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">argumentResolvers</span><span style="color:#f92672">.</span><span style="color:#75af00">add</span><span style="color:#f92672">(</span><span style="color:#111">authenticationResolver</span><span style="color:#f92672">(</span><span style="color:#111">xxxService</span><span style="color:#f92672">));</span>
    <span style="color:#f92672">}</span>

    <span style="color:#75af00">@Bean</span>
    <span style="color:#00a8c8">public</span> <span style="color:#111">CookieHandlerMethodArgumentResolver</span> <span style="color:#75af00">authenticationResolver</span><span style="color:#f92672">(</span><span style="color:#111">xxxService</span> <span style="color:#111">xxxService</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">CookieHandlerMethodArgumentResolver</span> <span style="color:#111">cookieHandlerMethodArgumentResolver</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">CookieHandlerMethodArgumentResolver</span><span style="color:#f92672">(</span><span style="color:#111">xxxService</span><span style="color:#f92672">);</span>
        <span style="color:#00a8c8">return</span> <span style="color:#111">cookieHandlerMethodArgumentResolver</span><span style="color:#f92672">;</span>
    <span style="color:#f92672">}</span>
<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-xml" data-lang="xml">//xml config
<span style="color:#f92672">&lt;mvc:annotation-driven&gt;</span>
    <span style="color:#f92672">&lt;mvc:argument-resolvers&gt;</span>
        <span style="color:#f92672">&lt;bean</span> <span style="color:#75af00">class=</span><span style="color:#d88200">&#34;xxx.xxx.CookieHandlerMethodArgumentResolver&#34;</span><span style="color:#f92672">&gt;</span>
            <span style="color:#f92672">&lt;constructor-arg&gt;</span>
                <span style="color:#f92672">&lt;bean</span> <span style="color:#75af00">class=</span><span style="color:#d88200">&#34;xxx.xxx.xxxService&#34;</span><span style="color:#f92672">/&gt;</span>
            <span style="color:#f92672">&lt;/constructor-arg&gt;</span>
        <span style="color:#f92672">&lt;/bean&gt;</span>
    <span style="color:#f92672">&lt;/mvc:argument-resolvers&gt;</span>
<span style="color:#f92672">&lt;/mvc:annotation-driven&gt;</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75715e">//Controller class 
</span><span style="color:#75715e"></span>
<span style="color:#00a8c8">public</span> <span style="color:#111">ResponseEntity</span><span style="color:#f92672">&lt;</span><span style="color:#111">ResultResponse</span><span style="color:#f92672">&gt;</span> <span style="color:#75af00">logout</span><span style="color:#f92672">(</span><span style="color:#75af00">@Authentication</span> <span style="color:#111">User</span> <span style="color:#111">user</span><span style="color:#f92672">,</span> <span style="color:#111">HttpServletResponse</span> <span style="color:#111">response</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
    <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">user</span> <span style="color:#f92672">!=</span> <span style="color:#00a8c8">null</span><span style="color:#f92672">)</span> <span style="color:#f92672">{}</span>
    <span style="color:#00a8c8">else</span> <span style="color:#f92672">{}</span>
<span style="color:#f92672">}</span></code></pre></div>
<h3 id="20-jsonview">20. @JsonView</h3>

<p>출처 url : <a href="http://www.concretepage.com/spring-4/spring-mvc-4-rest-jackson-jsonview-annotation-integration-example">http://www.concretepage.com/spring-4/spring-mvc-4-rest-jackson-jsonview-annotation-integration-example</a></p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Profile</span> <span style="color:#f92672">{</span>
   <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">interface</span> <span style="color:#75af00">PublicView</span> <span style="color:#f92672">{}</span>
   <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">interface</span> <span style="color:#75af00">FriendsView</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">PublicView</span> <span style="color:#f92672">{}</span>
   <span style="color:#00a8c8">public</span> <span style="color:#00a8c8">interface</span> <span style="color:#75af00">FamilyView</span> <span style="color:#00a8c8">extends</span> <span style="color:#111">FriendsView</span> <span style="color:#f92672">{}</span>
<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@RestController</span>
<span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;/app&#34;</span><span style="color:#f92672">)</span>
<span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">UserController</span> <span style="color:#f92672">{</span>
   <span style="color:#75af00">@Autowired</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">UserService</span> <span style="color:#111">userService</span><span style="color:#f92672">;</span>

   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/publicprofile&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">produces</span> <span style="color:#f92672">=</span> <span style="color:#111">MediaType</span><span style="color:#f92672">.</span><span style="color:#75af00">APPLICATION_JSON_VALUE</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">public</span> <span style="color:#111">List</span><span style="color:#f92672">&lt;</span><span style="color:#111">User</span><span style="color:#f92672">&gt;</span> <span style="color:#75af00">getAllPublicProfile</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
      <span style="color:#00a8c8">return</span> <span style="color:#111">userService</span><span style="color:#f92672">.</span><span style="color:#75af00">getAllUsers</span><span style="color:#f92672">();</span>
   <span style="color:#f92672">}</span>

   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FriendsView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/friendprofile&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">produces</span> <span style="color:#f92672">=</span> <span style="color:#111">MediaType</span><span style="color:#f92672">.</span><span style="color:#75af00">APPLICATION_JSON_VALUE</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">public</span> <span style="color:#111">List</span><span style="color:#f92672">&lt;</span><span style="color:#111">User</span><span style="color:#f92672">&gt;</span> <span style="color:#75af00">getAllFriendsProfile</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
      <span style="color:#00a8c8">return</span> <span style="color:#111">userService</span><span style="color:#f92672">.</span><span style="color:#75af00">getAllUsers</span><span style="color:#f92672">();</span>
   <span style="color:#f92672">}</span>

   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FamilyView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#75af00">@RequestMapping</span><span style="color:#f92672">(</span><span style="color:#111">value</span> <span style="color:#f92672">=</span> <span style="color:#d88200">&#34;/familyprofile&#34;</span><span style="color:#f92672">,</span> <span style="color:#111">produces</span> <span style="color:#f92672">=</span> <span style="color:#111">MediaType</span><span style="color:#f92672">.</span><span style="color:#75af00">APPLICATION_JSON_VALUE</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">public</span> <span style="color:#111">List</span><span style="color:#f92672">&lt;</span><span style="color:#111">User</span><span style="color:#f92672">&gt;</span> <span style="color:#75af00">getAllFamilyProfile</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
      <span style="color:#00a8c8">return</span> <span style="color:#111">userService</span><span style="color:#f92672">.</span><span style="color:#75af00">getAllUsers</span><span style="color:#f92672">();</span>
   <span style="color:#f92672">}</span>

<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">User</span> <span style="color:#f92672">{</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">userId</span><span style="color:#f92672">;</span>

   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">password</span><span style="color:#f92672">;</span>
   <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">int</span> <span style="color:#111">age</span><span style="color:#f92672">;</span>

   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FamilyView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#00a8c8">long</span> <span style="color:#111">mobnum</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FriendsView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">mailId</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">name</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">College</span> <span style="color:#111">college</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">Address</span> <span style="color:#111">address</span><span style="color:#f92672">;</span>

    <span style="color:#f92672">...</span>
<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">College</span> <span style="color:#f92672">{</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">colName</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FriendsView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">colLocation</span><span style="color:#f92672">;</span>

    <span style="color:#f92672">...</span>
<span style="color:#f92672">}</span></code></pre></div><div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#00a8c8">public</span> <span style="color:#00a8c8">class</span> <span style="color:#75af00">Address</span> <span style="color:#f92672">{</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FamilyView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">houseNo</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">FriendsView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">city</span><span style="color:#f92672">;</span>
   <span style="color:#75af00">@JsonView</span><span style="color:#f92672">(</span><span style="color:#111">Profile</span><span style="color:#f92672">.</span><span style="color:#75af00">PublicView</span><span style="color:#f92672">.</span><span style="color:#75af00">class</span><span style="color:#f92672">)</span>
   <span style="color:#00a8c8">private</span> <span style="color:#111">String</span> <span style="color:#111">country</span><span style="color:#f92672">;</span>

    <span style="color:#f92672">...</span>
<span style="color:#f92672">}</span></code></pre></div>
<p><strong>결과 /app/publicprofile</strong><br />
<img src="/publicprofile.png" alt="" /></p>

<p><strong>결과 app/friendprofile</strong><br />
<img src="/friendprofile.png" alt="" /></p>

<p><strong>결과 app/familyprofile</strong><br />
<img src="/familyprofile.png" alt="" /></p>

<h3 id="21-spring-boot-embedded-tomcat-ajp-연동">21. Spring Boot Embedded Tomcat AJP 연동</h3>

<p>Spring Boot의 Embeded WAS로 Tomcat을 쓸 경우 아래와 같은 설정으로 AJP 연동을 할 수 있다.</p>
<div class="highlight"><pre style="color:#272822;background-color:#fafafa;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-java" data-lang="java"><span style="color:#75af00">@Bean</span>
<span style="color:#00a8c8">public</span> <span style="color:#111">EmbeddedServletContainerFactory</span> <span style="color:#75af00">servletContainer</span><span style="color:#f92672">()</span> <span style="color:#f92672">{</span>
    <span style="color:#111">TomcatEmbeddedServletContainerFactory</span> <span style="color:#111">tomcat</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">TomcatEmbeddedServletContainerFactory</span><span style="color:#f92672">();</span>
    <span style="color:#111">tomcat</span><span style="color:#f92672">.</span><span style="color:#75af00">addContextCustomizers</span><span style="color:#f92672">((</span><span style="color:#111">context</span><span style="color:#f92672">)</span> <span style="color:#f92672">-&gt;</span> <span style="color:#f92672">{</span>
        <span style="color:#111">StandardRoot</span> <span style="color:#111">standardRoot</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">StandardRoot</span><span style="color:#f92672">(</span><span style="color:#111">context</span><span style="color:#f92672">);</span>
        <span style="color:#111">standardRoot</span><span style="color:#f92672">.</span><span style="color:#75af00">setCacheMaxSize</span><span style="color:#f92672">(</span><span style="color:#111">100</span> <span style="color:#f92672">*</span> <span style="color:#111">1024</span><span style="color:#f92672">);</span>
        <span style="color:#111">standardRoot</span><span style="color:#f92672">.</span><span style="color:#75af00">setCacheObjectMaxSize</span><span style="color:#f92672">(</span><span style="color:#111">4</span> <span style="color:#f92672">*</span> <span style="color:#111">1024</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">});</span>
    <span style="color:#00a8c8">if</span> <span style="color:#f92672">(</span><span style="color:#111">tomcatAjpEnabled</span><span style="color:#f92672">)</span> <span style="color:#f92672">{</span>
        <span style="color:#111">Connector</span> <span style="color:#111">ajpConnector</span> <span style="color:#f92672">=</span> <span style="color:#00a8c8">new</span> <span style="color:#111">Connector</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;AJP/1.3&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">ajpConnector</span><span style="color:#f92672">.</span><span style="color:#75af00">setProtocol</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;AJP/1.3&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">ajpConnector</span><span style="color:#f92672">.</span><span style="color:#75af00">setPort</span><span style="color:#f92672">(</span><span style="color:#111">ajpPort</span><span style="color:#f92672">);</span>
        <span style="color:#111">ajpConnector</span><span style="color:#f92672">.</span><span style="color:#75af00">setSecure</span><span style="color:#f92672">(</span><span style="color:#00a8c8">false</span><span style="color:#f92672">);</span>
        <span style="color:#111">ajpConnector</span><span style="color:#f92672">.</span><span style="color:#75af00">setAllowTrace</span><span style="color:#f92672">(</span><span style="color:#00a8c8">false</span><span style="color:#f92672">);</span>
        <span style="color:#111">ajpConnector</span><span style="color:#f92672">.</span><span style="color:#75af00">setScheme</span><span style="color:#f92672">(</span><span style="color:#d88200">&#34;http&#34;</span><span style="color:#f92672">);</span>
        <span style="color:#111">tomcat</span><span style="color:#f92672">.</span><span style="color:#75af00">addAdditionalTomcatConnectors</span><span style="color:#f92672">(</span><span style="color:#111">ajpConnector</span><span style="color:#f92672">);</span>
    <span style="color:#f92672">}</span>

    <span style="color:#00a8c8">return</span> <span style="color:#111">tomcat</span><span style="color:#f92672">;</span>
<span style="color:#f92672">}</span></code></pre></div>
<p>참고로 AJP를 쓸 경우 HTTP 메서드 등 PATCH를 쓸 수 없다는 제약이 있다.</p>


    
    
        <div class="chevrons">
    <div id="navigation">
<a class="nav nav-prev" href="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/" title="Spring 개발 이슈모음"> <i class="fa fa-chevron-left"></i><label>Spring 개발 이슈모음</label></a>
    <a class="nav nav-next" href="/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B2%E1%84%86%E1%85%A9%E1%84%8B%E1%85%B3%E1%86%B7/spring_%E1%84%80%E1%85%A2%E1%84%87%E1%85%A1%E1%86%AF_%E1%84%8B%E1%85%B5%E1%84%89%E1%85%B22/" title="Spring Issue2" style="margin-right: 0px;"><label>Spring Issue2</label><i class="fa fa-chevron-right"></i></a></div>
  </div>

  </section>
</article>

<footer>

<div class="footline">
    

    

    

    
  </div>


	<div>


  
    
  



	</div>
</footer>

<script src="/js/clipboard.min.js"></script>

<link href="/css/featherlight.min.css" rel="stylesheet">
<script src="/js/featherlight.min.js"></script>



<script src="/theme-flex/script.js"></script>


    

    
    

    
  </body>
</html>